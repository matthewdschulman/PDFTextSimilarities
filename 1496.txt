Robust Belief Roadmap: Planning under Uncertain and Intermittent Sensing
Shaunak D. Bopardikar Brendan Englot Alberto Speranzon
Abstract— This paper considers the problem of planning a
path for an autonomous vehicle from a start to a goal location
in presence of sensor intermittency modeled as a stochastic
process, in addition to process and measurement noise. The aim
is to plan a path that minimizes the localizational uncertainty
for the vehicle upon arriving at the goal location. The main
contribution of this paper is two-fold. We ﬁrst show that it
is possible to obtain an analytical bound on the performance
of a state estimator under sensor misdetection (intermittency)
occurring stochastically over time. We then use this bound in a
sample-based path planning algorithm to produce a path that
trades off accuracy and robustness. This extends the recent
body of work on planning under uncertainty to include the
fact that sensors may not provide any measurement owing to
misdetection. This is caused either by adverse environmental
conditions that prevent the sensors from making measurements
or by the fundamental limitations of the sensors. Examples
include RF-based ranging devices that intermittently do not
receive the signal from beacons because of obstacles or the
misdetection of features by a camera system in detrimental
lighting conditions. Computational results demonstrate the
beneﬁt of the approach and comparisons are made with the
state of the art in path planning in belief space.
Index Terms— Path planning, Belief space planning, Au-
tonomous systems, Localization.
I. INTRODUCTION
Map-based, GPS-denied navigation often relies on the
measurement of environmental features to perform state
estimation. Whether these features are extracted from camera
or LIDAR data, or supplied by range beacons, their measure-
ment will be corrupted by noise and, in general, intermittent.
Examples of such situations include RF-based ranging de-
vices that intermittently do not receive signals from beacons
because of obstacles and misdetection of features by a
camera system in textureless areas of the environment and/or
due to adverse lighting conditions. Although sensor fusion
can mitigate the intermittency, it is clear that one would like
the vehicle to navigate in regions of the environment where
the intermittency is lower and/or where it is more likely
that a large number of sensors are producing measurements.
As prior maps are becoming increasingly rich and sensor-
environment interactions can be simulated with reasonable
ﬁdelity, one can argue that a model for the intermittency
process may be available. Also, subsets of data collected in
various environmental situations can provide data to infer
model parameters.
In this context, the main contribution of this paper is
twofold. We ﬁrst show that it is possible to obtain an
The authors are with United Technologies Research Center.
This work was supported by United Technologies Research Center
under the Autonomy initiative. Email: fBopardSD, EnglotBJ,
SperanAg@utrc.utc.com.
analytical bound on the performance of a state estimator
under sensor misdetection occurring stochastically over time.
We then use this bound in a sample-based path planning
algorithm to produce a path that trades off accuracy and
robustness.
Recent work in robotics has emphasized robust path
planning under various sources of uncertainty. The stochas-
tic motion roadmap is a foundational work in modeling
path planning under process noise as a Markov decision
process (MDP), which is solved optimally using dynamic
programming [1]. Using the framework of Partially Observ-
able Markov Decision Processes (POMDP), Marthi, in [2]
addresses path planning in environments in which obstacles
appear/disappear dynamically over time.
If stochastic measurements are considered in addition to
actions, the planning problem, also a POMDP, is intractable
for relevant problems in robotics. As a result, a variety of al-
gorithms make simplifying assumptions and ﬁnd high-quality
feasible paths that manage uncertainty. Sample-based motion
planning is often utilized to generate a set of collision-free
feasible paths from which a minimum-uncertainty path is
selected. The belief roadmap (BRM) [3] builds a probabilistic
roadmap (PRM) [4] in a robot’s state space, propagates
beliefs over the roadmap using an extended Kalman ﬁlter
(EKF) [5], and plans a path of minimum goal-state uncer-
tainty. This approach has been extended in [6] to bias the
PRM samples using a Sensory Uncertainty Field (SUF) [7],
which expresses the spatial variation in sensor performance
over the workspace. Rapidly-exploring random belief trees
(RRBTs) [8] use the EKF to propagate belief states over a
rapidly-exploring random graph (RRG) [9], to ﬁnd asymptot-
ically optimal paths that minimize goal-state uncertainty sub-
ject to chance constraints. Linear quadratic Gaussian motion
planning (LQG-MP) [10] pairs an LQG controller-estimator
duo with trajectories planned using rapidly-exploring random
trees (RRTs) [11], seeking a path that minimizes the product
of collision probabilities at all states. Instead of sample-
based planning, continuous optimization is used by Platt et
al. [12]; locally optimal paths are computed directly in belief
space under the assumption that the maximum-likelihood
measurement is always obtained, and LQG estimation and
control are applied.
Map uncertainty is combined with assumptions of uncer-
tain actions and measurements by Kurniawati et al. [13], who
use a point-based POMDP planner to obtain an approximate
minimum-cost solution, where the cost is a combination
of movement and collision risk. A hierarchical approach is
adopted by Vitus et al. [14], who manage uncertainty by
decomposing the workspace into a graph and optimizing over
2014 IEEE International Conference on Robotics & Automation (ICRA)
Hong Kong Convention and Exhibition Center
May 31 - June 7, 2014. Hong Kong, China
978-1-4799-3684-7/14/$31.00 ©2014 IEEE 6122
the graph in several steps. Wellman et al. [15] consider a
setting in which the edge costs on the graph are uncertain
and provide a path planning algorithm that produces optimal
paths under time-dependent uncertainty. Acar et al. [16]
present an approach that uses geometric and topological
features instead of sensor uncertainty models.
In total, we consider three sources of uncertainty: process
noise, sensor noise, and sensor intermittency, for which
sensor misdetections occur with a known probability. We
demonstrate that choosing the expected maximum eigen-
value of the error covariance matrix as a metric we can
obtain a novel upper bound on its evolution in the case
of stochastic misdetections by the robot’s sensors. In the
case of no misdetection, these bounds are distinct from
existing results in the literature, surveyed in [17], which are
mainly for the Algebraic Riccati equation, representing the
steady state value of the expected error covariance instead
of its instantaneous value that we are concerned with. Other
metrics, such as the trace of the expected error covariance
matrix, have been commonly considered in the past, cf. [3].
However, to the best of our knowledge, the trace does not
offer a tractable means to bound its evolution over time in the
stochastic setting of sensor misdetections. Although the max-
imum eigenvalue introduces conservativeness, the proposed
analytical bound (scalar) offers computational advantages,
especially when the search space is large.
This paper is organized as follows. In Section II, we for-
mulate the problem. An analytical bound on the performance
of the state estimator with probabilistic sensor misdetections
is derived in Section III. In Section IV, we describe in detail
how the analytical bound is used for robust path planning.
Computational results are reported in Section V. Finally,
conclusions and future directions are discussed in Section VI.
II. PROBLEM FORMULATION
We consider a general model of an agent whose state
evolves as per a non-linear discrete-time dynamical system
x(t + 1) =f(x(t);n(t)); (1)
where x2 R
nx
is the state describing the system at time
t, f :R
nx
R
nn
!R
nx
describes the state transition map
of the system and n2R
nn
is the process noise. The agent
is equipped with m sensors (alternatively, can distinguish
between information received from m different sources) in
order to estimate the state x. Sensor output is modeled as
y
j
(t) =h
j
(x(t);v
j
(t)); 8j2f1;:::;mg; (2)
wherev
j
2R
nj
is the measurement noise of thej-th sensor
and h :R
nx
R
nj
!R
ny
j
describes the relation between
state and measurement. We assume that the noise vectors n
andv
j
are independent mean-zero Gaussian random vectors.
In this paper, we consider situations where sensors can
misdetect features and thus, do not produce a measurement
at certain time instants. Examples include RF-based signals
from beacons that are not detected by the agent because of
low SNR, misdetection of features using cameras because of
abrupt change of lighting conditions, no LIDAR returns from
certain materials, etc. Under these circumstances, analogous
to the Kalman Filter case (see equations (185) and (186)
in [18]), an Extended Kalman Filter (EKF) based estimator
of the state x can be written as:
P
 1
t+1
= (F
t
P
t
F
0
t
+Q
t
)
 1
+
m
X
j=1

j;t+1
H
0
j
R
 1
j;t+1
H
j
; (3)
^ x
t+1
=P
t+1

(F
t
P
t
F
0
t
+Q
t
)
 1
f(^ x
t
;0)+
+
m
X
j=1

j;t+1
H
0
j
R
 1
j;t+1
(y
j
(t + 1) h
j
(f(^ x
t
);0))

;
where ^ x
t
is the state estimate, P
t
is the error covariance
with respect to the process and sensor noise terms,F
t
is the
linearization of f around (^ x
t
;0) and H
j
is the linearization
of h
j
around (f(^ x
t
);0). The matrix Q
t
is the process
noise covariance and the R
j;t+1
is the measurement noise
covariance associated with the j-th sensor. The 
j;t+1
are
binary, 0=1, random variables that model the misdetection
process for the j-th sensor at time t + 1.
Our goal is to build a novel BRM that trades off accuracy
and robustness when sensors can stochastically be in mis-
detection mode during the mission. We will call this Robust
Belief Roadmap or RBRM.
In this work, we make the following assumptions:
Assumption 2.1 (Misdetection map): For each sensor j,
we can characterize the misdetection probability (1 p
j
)
at locations in the environment. 
Note that we are not requiring the knowledge of thep
j
’s for
all sensors at every location in the environment. If this is not
known for certain regions of the environment or for certain
sensors, one either assume p
j
< 1 (increasingly pessimistic
as p
j
decreases) or p
j
= 1 (optimistic).
Assumption 2.2 (Independence): We assume the misde-
tections
j
to be independent over time and between sensors.
Speciﬁcally, the 
j
are Bernoulli random variables with p
j
being the probability of 
j
= 1. 
For constant values ofp
j
’s, Assumption 2.2 is common in the
literature pertaining to the research area involving estimation
with intermittent observations, e.g., see [19]. However, most
results in this ﬁeld are concerned with stability of the
estimation algorithms, while our focus in this paper is to
characterize the evolution of the estimation performance.
Further, in our set-up, the parameters p
j
of the random
variables 
j;t
in (3) are functions of the state x, whereas in
estimation literature, the state dependence is not explicitly
considered for the sake of notational brevity.
Assumption 2.3 (Consistency): We assume that the state
estimate ^ x
t
follows the nominal trajectory for the vehicle.
The last assumption implies that we have a reasonable
nominal model for the motion of the vehicle, and that there
exists a control action that keeps the state estimate ^ x
t
close
to the nominal trajectory (c.f. [3]). Our work is concerned
with the level of conﬁdence measured through P
t
that we
can obtain in our state estimate ^ x
t
.
With these assumptions, we address the following:
6123
Fig. 1. Illustration of a model of the environment which could be
used for planning. In this case, not only is the geometric information
about the obstacles and position of beacons is considered, but also the
information about the reliability of certain sensors in detecting, e.g. edges
of buildings and signal from a radio tower (beacon). Note that in this
scenario a rather elaborate model is used, where edges are categorized
into three classes: detectable, detectable with 85% and 60% probability.
This different detection likelihood could be caused by the sun’s position. A
map of signal strength from the radio tower could be determined using ray
tracing algorithms. In this example, just for illustration purposes, we have
three regions with different detection probabilities.
Problem 2.1: Given the sensors’ precision, their misdetec-
tion probabilities and a nominal trajectory, determine a bound
on the evolution of the expected value ofM(P
t
), where
M represents any function that can capture the uncertainty
through P
t
. Here, the expectation is taken over the joint
distribution of the random variables 
j;t
representing sensor
misdetection. 
Equipped with this theoretical bound, the second goal is to
apply the bound to the following problem on path planning
under uncertainty.
Problem 2.2: Given a set of candidate trajectories from a
start location to a goal location, develop an algorithm that
propagates the bound onE[M(P
t
)] over the PRM, to output
a path having minimum goal-state uncertainty. 
Remark 2.1: The probability of misdetection of a sensor
(Assumption 2.1) is in general difﬁcult to know precisely.
However, thanks to rather realistic simulation environments
capable of both simulating sensor responses as well as the
environment, one can foresee the possibility of obtaining
rather realistic models. For example, given a geometric
model of the environment, edges and/or corners of buildings
could be marked with different misdetection probabilities if
some information from the type of material, the texture,
the time of the day the mission is carried out, etc. are
considered. Entire areas of the environment could be marked
with misdetection probabilities, e.g., modeling the fact that
an RF-signal cannot easily be detected behind buildings. This
could be obtained with ray tracing based algorithms, see, e.g.,
Figure 1.
The misdetection probability of a sensor could also be
determined from historical data collected in the mission,
for example correlating some information about the environ-
ment, such as obstacle density, time of the day the mission
was carried out, etc. with the misdetection state of a sensor.
Of course, it is impossible to capture all sources of
uncertainty. However, if some of this information is available,
the RBRM method can take it into consideration, trading off
accuracy and robustness.
When such models are only of qualitative nature, the
RBRM could be used to assess the robustness of the solution.
In practice, the misdetection probabilities can be employed
as user parameters. Varying such parameters, the user can
study how the RBRM changes under, e.g., more pessimistic
hypotheses on the behavior of certain sensors, having higher
misdetection probability in more remote regions of the
environment where more uncertainty is expected, etc. 
III. ANALYTICAL BOUND ON PERFORMANCE
In the seminal work by Prentice and Roy [3], it was
shown that if the covariance matrix is factorized as P
t
=
B
t
C
 1
t
, then the time evolution of the terms B
t
;C
t
is
linear. This enabled the authors to develop and demonstrate
a computationally efﬁcient algorithm to compute a roadmap
that captures the estimation precision. The functionM used
in [3] is the trace of the matrix. Leveraging the same
factorization, one arrives at the following equation:

B
t
C
t

=

F
t
Q
t
F
 T
t
M(
t
)F
t
F
 T
t
+M(
t
)Q
t
F
 T
t

B
t 1
C
t 1

(4)
where M(
t
) =
P
m
j=1

j;t
H
0
j
R
 1
j;t
H
j
, which depends on
the stochastic variables
j;t
. This can be thought as a transfer
function that maps the matricesB
t
andC
t
from one node of
the roadmap to the next [3]. In this stochastic setting, how-
ever, a direct application of the BRM proposed by Prentice
and Roy in [3] requires extensive Monte Carlo simulations
over all the variables 
j;t
. Even if the factorization provides
a faster computation of the covariance, the method becomes
very quickly intractable, especially if 
j;t
changes spatially.
See, e.g., the signal received from a radio tower as in
Figure 1.
A way to mitigate this is by taking the expectation with
respect to the
j;t
, namely by computingE(B
t
) andE(C
t
).
This would enable us to compute an expected transfer
function between two nodes in the roadmap. However, note
thatE(P
t
) =E(B
t
C
 1
t
)6=E(B
t
)(E(C
t
))
 1
, thus prevent-
ing us from computing what the expected state covariance is
at each node of the roadmap.
In order to obtain a meaningful metric on the expected
error covariance, which captures the estimate precision when
there are sensor misdetections, and to have computational
tractability, we establish a bound on the largest eigenvalue
of the covariance. Intuitively, we are approximating the
uncertainty at each node of the roadmap with a ball whose
radius is the largest eigenvalue of the covariance, and we
determine a bound on this radius.
6124
A. Bound under Stochastic Sensor Misdetections
In this section, we derive a bound on the expected max-
imum eigenvalue of the covariance under a misdetection
process as per Assumptions 2.1 and 2.2. The metric which
we analyze isE[

(P
t
)], where the expectation is taken over
the stochastic process of sensor misdetections.
For brevity, let `
t
:=

(P
t
). For k2f1;:::;mg, deﬁne:
a :=


2
(F(^ x
t
)); b := sup
t

(Q
t
);
c
i1;:::;i
k
:=a

k
X
j=1
H
0
ij;t
R
 1
ij;t
H
ij;t

;
d
i1;:::;i
k
:=bc
i1;:::;i
k
=a + 1;
where a tuple i
1
;:::;i
k
is a subset off1;:::;mg.
Using this notation, we have the following recursion which
provides an upper bound on E[`
t
], referred to hereafter as
E[`
t
]. Due to lack of space, the proof of this result is included
in the appendix of [20][Proof of Theorem III.3].
Theorem 3.1 (Stochastic misdetections): Under Assump-
tions 2.1 and 2.2, at any given time instantt,E[`
t
] generated
as per the following recursion,
E[`
t
] = (aE[`
t 1
] +b)

(1 p
1
)::: (1 p
m
)
+
p
1
(1 p
2
)::: (1 p
m
)
c
1
E[`
t 1
] +d
1
+ +
(1 p
1
)(1 p
2
):::p
m
c
m
E[`
t 1
] +d
m
+
p
1
p
2
::: (1 p
m
)
c
12
E[`
t 1
] +d
12
+ +
(1 p
1
):::p
m 1
p
m
c
m 1;m
E[`
t 1
] +d
m 1;m
.
.
.
+
p
1
:::p
m
c
1;:::;m
E[`
t 1
] +d
1;:::;m

;
is an upper bound on E[`
t
]. 
This bound requires the enumeration of all of the 2
m
possibilities of sensor combinations, and therefore, the com-
putational complexity scales undesirably withm. One way to
derive an efﬁcient bound is to obtain a uniform lower bound
 c on each of the c’s. In that case, the common denominator
of the right hand side terms becomes  cE[`
t 1
] +

d. The
recursion then simpliﬁes to
E[`
t
] = (aE[`
t 1
] +b)
0
@
m
Y
j=1
q
j
+
1 
Q
m
j=1
q
j
 cE[`
t 1
] +

d
1
A
;
with q
j
= 1 p
j
. This recursion can be evaluated along
similar lines to the proof of [20][Theorem III.2] to obtain a
E[`
t
] as a function of E[`
0
].
For certain types of sensor suites, one may be able to
derive a slightly conservative, but computationally efﬁcient
upper bound which we report next.
Corollary 3.1 (Simpliﬁed bound): Under Assump-
tions 2.1 and 2.2, at any given time instant t, E[`
t
]
generated as per the following recursion,
E[`
t
] = (aE[`
t 1
]+b)
0
@
m
Y
j=1
q
j
+
m
X
j=1
p
j
c
j
E[`
t 1
] +d
j
1
A
;
is an upper bound on E[`
t
]. 
The proof is reported in [20]. The main advantage of this
bound is the computational efﬁciency as compared to the one
in Theorem 3.1. However, this bound requires at least one of
the sensors to have a strictly positive c value, and therefore,
may become too conservative. We will use Theorem 3.1 in
our proposed RBRM approach.
IV. APPLICATION TO PATH PLANNING MISSIONS
The upper bound on E[`
t
] given in Theorem 3.1 may be
used to plan paths of minimum expected goal-state uncer-
tainty in a manner similar to the belief roadmap algorithm
[3]. We will assume that a probabilistic roadmap with node
set N and edge set E is provided as input, along with
beliefs 
0
and 
goal
deﬁning a start state and goal state on
the roadmap. We also assume that for every node n2 N,
the triple n = f;E[`];g is stored, which contains the
belief, the eigenvalue bound, and the path  (beginning
at 
0
) associated with this node. We refer to individual
members of the triple using the notation n[], n[E[`]], and
n[]. Belief propagation and graph search proceeds similarly
to that of the standard BRM algorithm; E[`
t
] is propagated
according to the recursive inequality given in Theorem 3.1,
and is used in place of the nominal-trajectory expected error
covariance matrix that is propagated in the standard BRM.
We assume the bound is used to compute a transfer function
E[`]
l
= (i;l;E[`]
i
), that takes as input the indices of an
edgee
i;l
in the roadmap, and the eigenvalue bound associated
with noden
i
. In the context of the graph search, we treatE[`]
independently of time, and assume that n
i
[E[`]] represents
the best-yet covariance eigenvalue bound identiﬁed at n
i
.
The search process is shown in Algorithm 1.
Algorithm 1 n
goal
[] =RBRM(
0
;
goal
;E[`]
0
;N;E)
for e
i;l
2E do
(i;l;E[`]
i
) PropagateBound(e
i;l
)
end for
Q n
0
=f
0
;E[`]
0
;;g
while Q6=; do
n
i
 Pop(Q)
for n
l
2e
i;l
do
if n
l
= 2n
i
[] then
E[`]
l
 (i;l;n
i
[E[`]])
if E[`]
l
<n
l
[E[`]] then
n
l
 fn
l
[];E[`]
l
;n
i
[][n
l
g
Q Push(Q;n
l
)
end if
end if
end for
end while
return n
goal
[]
The use of our proposed approach, i.e., propagation of
E[`
t
], provides us with a signiﬁcant computational advantage
over existing methods such as [3]. If we were to use their
factorization from (4), then we would have to compute:
6125
Fig. 2. Planned paths in a workspace populated with obstacles (measured by
laser) and UWB beacons. The robot receives the beacon measurements with
probability 0.1, and extracts obstacle corners from laser data with probability
0.9. At top, a path planned using `t as a performance metric, neglecting all
probabilistic sensor misdetections. At bottom, a path planned usingE[`t] as
a performance metric, which considers the misdetection probability of each
sensor. The UWB beacons are queried at every measurement iteration; the
laser has a range of one unit and its planned measurements are rendered
(green for a successful measurement and red for a misdetection) for a
representative failure scenario. Ninety-ﬁve percent conﬁdence covariance
ellipses are plotted at regular intervals along each path.
1) 2
m
realizations of the matrix B
t
(one for each subset
of misdetecting sensors), 2) inverses of 2
m
realizations of
the matrix C
t
, 3) multiply each realization of B
t
with
corresponding C
 1
t
and ﬁnally, 4) sum up the 2
m
terms to
computeE[P
t
] or its trace. Instead, our approach requires the
computation of minimum eigenvalues of 2
m
much smaller
sized matrices, i.e., sums of the termsH
0
j
R
 1
j;t
H
j
, for which
efﬁcient algorithms exist even for larger sizes [21], along
with step 4) of the above, which provides signiﬁcant savings
in high dimensional state space.
V. COMPUTATIONAL RESULTS
In this section, we consider path planning with minimum
uncertainty under process noise, sensor noise, and proba-
bilistic misdetections for a planar Dubins vehicle [22] in
an environment populated with obstacles. We assume that a
robot is using three sensors for navigation: ultra-wideband
(UWB) range beacons, a laser rangeﬁnder for measuring
obstacle vertices, and odometry that is subject to drift over
time. The beacons provide measurements throughout the
workspace, but their noise properties are assumed to vary
100 200 300 400 500
0
0.005
0.01
0.015
0.02
Lambda
max
Mean Value of Error Covariance 
Eigenvalue Along Planned Paths 
100 200 300 400 500
0
0.005
0.01
0.015
0.02
Number of Measurements Collected Along Planned Path
trace(P)
Mean Value of Error Covariance 
Trace Along Planned Paths      
Original BRM Path (mean trace)
Failures Considered (mean trace)
Original BRM Path (mean eigenvalue)
Failures Considered  (mean eigenvalue)
Failures Considered (eigenvalue bound)
Fig. 3. At top, the propagation in time of the eigenvalue performance
metrics over the paths in Figure 2. At bottom, tr(Pt) is also given for both
paths. All quantities except E[`t] represent the mean over one hundred
Monte Carlo trials in which different sequences of sensor misdetections
occur according to the prescribed probabilities.
as a function of distance to the robot
1
, according to
v
j
(t)N (0;(D
j
(t))
2
); (5)
(D
j
(t)) =D
j
(t) +
0
: (6)
The noise associated with the range measurement of beaconj
has a standard deviation that varies linearly in the Euclidean
distanceD
j
(t) between the robot and beaconj. The standard
deviation takes on value 
0
at range zero and increases
according to the coefﬁcient . For the laser rangeﬁnder, we
assume the measurement of range to an obstacle vertex is
corrupted by Gaussian white noise with properties that do not
vary spatially, and the vertices measured are always correctly
associated with a prior map. The maximum range of the laser
is limited, however, and obstacles can only be detected in
close proximity to the robot.
A start state and goal state are designated for the robot,
and a PRM is used to identify feasible paths between the
start and goal. To select the path of minimum goal-state
uncertainty, two methodologies are compared: the original
BRM algorithm, with no notion of sensor misdetections, and
the proposed RBRM algorithm, which uses E[`
t
] as a cost
metric instead of tr(P
t
). For all path planning scenarios
investigated, the standard BRM algorithm was found to
choose the same path regardless of whether tr(P
t
) is used
as the cost metric or `
t
is used instead. Evaluating `
t
over
the roadmap offers a better comparison with E[`
t
], and so
1
A more general model could also consider a bias term as described
in [3]. This could be easily added also in our framework.
6126
0.2 0.4 0.6 0.8 1
0.2
0.4
0.6
0.8
1 
UWB Beacon Detection Probability
Covariance Eigenvalue Bound 
as Sensor Reliability Varies
 
Laser Detection Probability
1.5
2
2.5
3
3.5
4
x 10
?3
0.2 0.4 0.6 0.8 1
0.2
0.4
0.6
0.8
1 
Number of Planned Laser Measurements
as Sensor Reliability Varies
 
0
50
100
150
200
Fig. 4. Characteristics of a planned path are plotted as a function of sensor
reliability, for the two-sensor example shown in Figure 2. At top, the number
of planned laser measurements along the selected path is illustrated, and at
bottom, the covariance eigenvalue bound at the goal state is illustrated. The
upper left corner of each plot corresponds to the parametrization used in
Figures 2 and 3.
both tr(P
t
) and `
t
are computed for comparison withE[`
t
]
in the results to follow.
The ﬁrst scenario considered is illustrated in Figure 2, in
which a robot must plan from start to goal in a workspace
populated with three obstacles and four range beacons. Very
simple collision-free paths are evident through the upper
reaches of the workspace, but in cases where the probability
of UWB misdetection is high, it is advantageous for the robot
to travel through the obstacles to collect laser measurements
that reduce position uncertainty. For the speciﬁc case plotted
in Figure 2, the beacons have a ten percent probability of
delivering a successful measurement to the robot, and the
laser (with a maximum range of one unit) has a ninety
percent probability of successfully extracting an obstacle ver-
tex and measuring its range to the robot. When intermittent
sensing is neglected, the robot takes a short path to the goal
that collects measurements from the UWB beacons only.
When intermittent sensing is considered, the robot takes a
detour through the obstacles to reduce the uncertainty of
its state estimate. For both paths, one hundred Monte Carlo
simulations were performed in which sensors fail according
to the prescribed probabilities, and the resulting mean values
of tr(P
t
) and `
t
are compared with E[`
t
] in Figure 3.
The same planning scenario is next considered over a
range of different misdetection probabilities, for both the
laser and the UWB beacons, and the results are summarized
in Figure 4. The number of planned laser measurements
in the minimum uncertainty path, computed using E[`
t
], is
given at top, and the value ofE[`
t
] at each path’s goal state
is given at bottom. The zero-range noise level 
2
0
selected
for the UWB beacons is an order of magnitude lower than
the constant variance representing the laser noise, and so the
UWB beacons are used exclusively for all scenarios in which
they are more than ﬁfty percent reliable, even if the laser is
more reliable. Note that Figure 4 can be also used when no
exact value of the misdetection probabilities is known, to
evaluate the characteristics of a PRM over an environment.
Note that to explore tradeoffs the proposed approach is very
efﬁcient as the parameters a;b, c
i1
;:::;c
i
k
and d
i1
;:::;d
i
k
need to be computed only once, and after that we only need
to propagate a scalar metric across a PRM.
A second path planning test case with continuously vary-
ing sensor intermittency is considered in Figure 5. In a
workspace populated with eight obstacles and no UWB
beacons, we assume that a light source causes the expected
sensing intermittency to vary continuously along the vertical
axis of the workspace, with a high detection probability at
bottom and a low detection probability at top. Neglecting
sensor intermittency, the standard BRM algorithm plans
a path through the upper region of the workspace, and
considering sensor intermittency, planning withE[`
t
] yields a
path that collects many high-probability measurements from
the lower region of the workspace to minimize uncertainty
at the goal state. The candidate metrics, averaged over one
hundred simulated cases of sensor intermittency, are given
in Figure 6.
A ﬁnal path planning test case is considered in Figure 7,
which plans over a square-kilometer urban environment
(from the city of Chicago) from a start state at bottom to
a goal state at top. We assume that sunlight is cast into
the environment from the upper right corner of the map,
interfering with the robot’s ability to detect features with a
laser in the sunlit areas. We assume that blue obstacle corners
in Figure 7, which lie in shaded areas, can be detected by
laser with 90% probability, and red obstacle corners, in sunlit
areas, can be detected with 10% probability. We believe that
this reﬂects a realistic application in which prior knowledge
can be applied to plan with increased robustness. We use
only two feature detection probabilities in this case to reﬂect
the fact that we may not know exactly how the reliability of
sensing will vary along a continuum.
Neglecting sensor intermittency, the standard BRM algo-
rithm plans a path that relies on many obstacle corners with
a low detection probability. UsingE[`
t
] as a planning metric
instead, we obtain a path that collects measurement from the
highly reliable features exclusively. This path reaches the
goal state with superior uncertainty in the majority of test
cases, and is more robust in general due to its preference for
reliable features. The candidate metrics, again averaged over
one hundred simulated cases of sensor intermittency for this
example, are given in Figure 8.
Over the course of computational evaluations, we have
also observed that using E[`
t
] as an uncertainty metric for
planning, even in the absence of sensor misdetection, offers
6127
Fig. 5. Planned paths in a workspace over which the probability of a
successful corner detection varies spatially along the vertical axis. Ob-
stacles measured at bottom have the highest probability of a successful
measurement, and obstacles measured at top have a near-zero probability of
a successful measurement. At top, a path planned using `t as a performance
metric, neglecting all probabilistic sensor misdetections. At bottom, a
path planned using E[`t] as a performance metric, which considers the
misdetection probability of each sensor. The laser has a range of one unit and
its planned measurements are rendered (green for a successful measurement
and red for a misdetection) for a representative scenario. Ninety-ﬁve percent
conﬁdence covariance ellipses are plotted at regular intervals along each
path.
a competitive and computationally efﬁcient alternative to
propagation of the full error covariance matrix. As Figure
8 indicates, the eigenvalue bound is not always tight when
the vehicle relies solely on odometry, and its state estimate
is subject to drift, but E[`
t
] offers a good approximation of
`
t
, which we believe is in turn a suitable proxy for tr(P
t
).
VI. CONCLUSION AND FUTURE DIRECTIONS
This paper described how to plan when sensors used for
state estimation are not only noisy, but may also fail to
produce measurements because of misdetections. Being able
to tradeoff both accuracy and robustness is very appealing as
autonomous vehicles heavily rely on complex sensors such as
cameras and LIDAR whose capability of extracting relevant
information, such as features and point clouds, strongly
depends on environmental information that can be predicted
to a certain extent, such as effect of lighting conditions, type
of surfaces, etc. Even in the case when such information is
not fully available, the proposed methodology can be very
beneﬁcial to study the robustness of the path to intermittent
sensing, by testing the robust roadmap, for example, by
choosing various probabilities of intermittency at various
locations in the map.
100 200 300 400
0
0.01
0.02
Lambda
max
Mean Value of Error Covariance 
Eigenvalue Along Planned Paths 
100 200 300 400
0
0.01
0.02
Number of Measurements Collected Along Planned Path
trace(P)
Mean Value of Error Covariance 
Trace Along Planned Paths      
Original BRM Path (mean eigenvalue)
Failures Considered  (mean eigenvalue)
Failures Considered (eigenvalue bound)
Original BRM Path (mean trace)
Failures Considered (mean trace)
Fig. 6. At top, the propagation in time of the eigenvalue performance
metrics over the paths in Figure 5. At bottom, the trace of the expected
error covariance matrix is given for both paths. All quantities except the
eigenvalue bound represent the mean over one hundred Monte Carlo trials
in which different sequences of sensor misdetections occur according to the
prescribed probabilities.
One direction in which the framework proposed in this
paper needs to be matured is when uncertainty can be
tolerated in certain dimensions but not in others. These
scenarios arise in planning trajectories in high dimensional
robot conﬁguration spaces. The goal is to develop extensions
of the current formulation and an analysis framework that can
inherently handle such preferred directions for uncertainty.
Other promising short term future directions include the in-
corporation of map uncertainty within the current framework
and the use of the current analysis for multi-objective path
planning. The latter direction has been investigated recently
in [23].
REFERENCES
[1] R. Alterovitz, T. Simeon, and K. Goldberg, “The stochastic motion
roadmap: A sampling framework for planning with Markov motion
uncertainty,” in Proceedings of the Robotics: Science and Systems
Conference, 2007.
[2] B. Marthi, “Robust navigation execution by planning in belief space,”
in Proceedings of the Robotics: Science and Systems Conference,
2008.
[3] S. Prentice and N. Roy, “The belief roadmap: Efﬁcient planning in
belief space by factoring the covariance,” International Journal of
Robotics Research, vol. 28, no. 11–12, pp. 1448–1465, 2009.
[4] L. E. Kavraki, P. Svestka, J.-C. Latombe, and M. H. Overmars, “Prob-
abilistic roadmaps for path planning in high-dimensional conﬁguration
spaces,” IEEE Transactions on Robotics, vol. 12, no. 4, pp. 556–580,
1996.
[5] A. Gelb, Ed., Applied Optimal Estimation. MIT Press, 1974.
[6] R. He, S. Prentice, and N. Roy, “Planning in information space for
a quadrotor helicopter in a GPS-denied environment,” in Proceedings
of the IEEE International Conference on Robotics and Automation,
2008, pp. 814–820.
6128
0 200 400 600 800 1000
0
200
400
600
800
1000
0 200 400 600 800 1000
0
200
400
600
800
1000
300 350 400 450 500 550
750
800
850
900
950
1000
1050
150 200 250 300 350
750
800
850
900
950
1000
1050
  Path of Minimum Expected Covariance
Eigenvalue, Sensor Failures Considered
       Goal?State 
Eigenvalue Bound:
        (Failures
      Considered)
            16.8
Path of Minimum Realized Covariance
         Eigenvalue, Perfect Sensing
       Goal?State 
Eigenvalue Bound:
        (Failures 
      Considered) 
             22.2
start
start
goal
goal
Fig. 7. Planned paths in a square-kilometer workspace in which the
probability of a successful corner detection by laser varies due to sunlight
originating in the upper right corner of the map. Sunlit portions of the
obstacles, indicated in red, have a 10% probability of a successful mea-
surement. Shaded portions of the obstacles, indicated in blue, have a 90%
probability of a successful measurement. At top left, a path planned using `t
as a performance metric, neglecting all probabilistic sensor misdetections.
At bottom left, a path planned usingE[`t] as a performance metric, which
considers the misdetection probabilities. The laser has a range of twenty
meters and its planned measurements are rendered (green for a successful
measurement and red for a misdetection) for a representative scenario.
Ninety-ﬁve percent conﬁdence covariance ellipses are plotted in blue at
regular intervals along each path. The top left and bottom left paths are
shown in increased detail at top right and bottom right, respectively.
[7] H. Takeda, C. Facchinetti, and J.-C. Latombe, “Planning the motions
of a mobile robot in a sensory uncertainty ﬁeld,” IEEE Transactions
on Pattern Analysis and Machine Intelligence, vol. 16, no. 10, pp.
1002–1017, 1994.
[8] A. Bry and N. Roy, “Rapidly-exploring random belief trees for motion
planning under uncertainty,” in Proceedings of the IEEE International
Conference on Robotics and Automation, 2011.
[9] S. Karaman and E. Frazzoli, “Sampling-based algorithms for optimal
motion planning,” International Journal of Robotics Research, vol. 30,
no. 7, pp. 846–894, 2011.
[10] J. van den Berg, P. Abbeel, and K. Goldberg, “LQG-MP: Optimized
path planning for robots with motion uncertainty and imperfect state
information,” International Journal of Robotics Research, vol. 30,
no. 7, pp. 895–913, 2011.
[11] S. M. LaValle and J. J. Kuffner, “Randomized kinodynamic planning,”
International Journal of Robotics Research, vol. 20, no. 5, pp. 378–
400, 2001.
[12] R. Platt, R. Tedrake, L. Kaelbling, and T. Lozano-Perez, “Belief space
planning assuming maximum likelihood observations,” in Proceedings
of Robotics: Science and Systems Conference, 2010.
[13] H. Kurniawati, T. Bandyopadhyay, and N. M. Patrikalakis, “Global
motion planning under uncertain motion, sensing, and environment
map,” in Proceeding of Robotics: Science and Systems Conference,
2011.
[14] M. P. Vitus, W. Zhang, and C. Tomlin, “A hierarchical method for
stochastic motion planning in uncertain environments,” in Proceedings
of the IEEE/RSJ International Conference on Intelligent Robots and
Systems, 2012.
[15] M. P. Wellman, M. Ford, and K. Larson, “Path planning under time-
0 500 1000 1500 2000 2500 3000 3500
0
50
100
150
Lambda
max
Mean Value of Error Covariance 
Eigenvalue Along Planned Paths
0 500 1000 1500 2000 2500 3000 3500
0
100
200
Number of Measurements Collected Along Planned Path
trace(P)
Mean Value of Error Covariance 
Trace Along Planned Paths
Original BRM Path (mean trace)
Failures Considered (mean trace)
Original BRM Path (mean eigenvalue)
Failures Considered  (mean eigenvalue)
Failures Considered (eigenvalue bound)
19.1
30.2
35.6
15.7
Fig. 8. At top, the propagation in time of the eigenvalue performance
metrics over the speciﬁc paths in Figure 7. At bottom, the trace of the
expected error covariance matrix is given for both paths. All quantities
except the eigenvalue bound represent the mean over one hundred Monte
Carlo trials in which different sequences of sensor misdetections occur
according to the prescribed probabilities.
dependent uncertainty,” in Proceedings of the Eleventh Conference on
Uncertainty in Artiﬁcial Intelligence, 1995.
[16] E. U. Acar, H. Choset, Y . Zhang, and M. Schervish, “Path planning
for robotic demining: Robust sensor-based coverage of unstructured
environments and probabilistic methods,” International Journal of
Robotics Research, vol. 22, no. 7-8, pp. 441–466, 2003.
[17] W. H. Kwon, Y . Moon, and S. C. Ahn, “Bounds in algebraic Riccati
and Lyapunov equations: A survey and some new results,” Int. Jour.
of Control, vol. 64, no. 3, 1996.
[18] H. Durrant-Whyte, “Multi sensor data fusion,” http://www.acfr.usyd.
edu.au/pdfs/training/multiSensorDataFusion/dataFusionNotes.pdf,
2001.
[19] B. Sinopoli, L. Schenato, M. Franceschetti, K. Poolla, M. Jordan, and
S. S. Sastry, “Kalman ﬁltering with intermittent observations,” IEEE
Transactions on Automatic Control, vol. 49, no. 9, pp. 1453–1464,
2004.
[20] S. D. Bopardikar, B. Englot, and A. Speranzon, “Robust belief
roadmap: Planning under intermittent sensing,” 2013, Technical report.
Available online at http://arxiv.org/abs/1304.7256.
[21] Y . Okamoto and H. J. Maris, “A novel algorithm for calculation of
the extreme eigenvalues of large Hermitian matrices,” Computer Phy.
Comm., vol. 76, no. 2, 1993.
[22] L. E. Dubins, “On curves of minimal length with a constraint on
average curvature, and with prescribed initial and terminal positions
and tangents,” American Journal of Mathematics, vol. 79, no. 3, pp.
497–516, 1957.
[23] S. D. Bopardikar, B. Englot, and A. Speranzon, “Multi-objective Path
Planning in GPS denied environments under Localization Constraints,”
in Proceedings of the American Control Conference, 2014, to appear.
6129
