Dynamics and Control of Quadrotor with Robotic Manipulator
Hyunsoo Yang and Dongjun Lee
Abstract— We show that the Lagrange dynamics of
quadrotor-manipulator systems can be completely decoupled
into: 1) the center-of-mass dynamics in E(3), which, similar to
the standard quadrotor dynamics, is point-mass dynamics with
under-actuation and gravity effect; and 2) the “internal rota-
tional” dynamics of the quadrotor’s rotation and manipulator
conﬁguration, which assumes the form of standard Lagrange
dynamics of robotic manipulator with full-actuation and no
gravity effect. Relying on this structure, we propose a novel
backstepping-like end-effector tracking control law, which can
allow us to assign different roles for the center-of-mass control
and for the internal rotational dynamics control according to
task objectives. Simulations using a planar quadrotor with a
2-DOF arm are also performed to show the theory.
I. INTRODUCTION
Quadrotors have been researched extensively in recent
years due to their agile performance, relative-easiness to con-
trol, and affordability, with the rapid advancements in sen-
sors, actuators, materials, and embedded computing. These
quadrotors are also promising to extend the ground-bound
ability of the typical mobile robots to the three dimensional
space. Some application examples include: remote landscape
survey, aerial photography, surveillance and reconnaissance,
etc. For this, many powerful results have been reported for
the motion control of quadrotors (e.g., [1]–[6]).
To make quadrotor a truly versatile and practically use-
ful robotic platform, it is also desirable to endow them
with a capability of manipulation and interaction between
environment via physical power change. Some results for
this include: 1) cable-suspended transport tasks using a
single or multiple quadrotors [7], [8]; 2) grasping using a
gripper attached on aerial robots [9] and stability analysis to
prevent instability caused by load inertia [10]; and 3) aerial
manipulation with a tool (e.g., screw driver) rigidly-attached
on the quadrotor and its internal dynamics analysis [11], [12].
The problem of employing and controlling the quadrotor
with a multi degree-of-freedom (DOF) robotic manipulator,
which would likely be the ultimate choice platform for the
aerial manipulation, has been actively studied only from few
years ago with much less results available (e.g., [13]–[18]).
The key challenge inherent in this quadrotor-manipulator
(QM) system is that: 1) the combined QM-system dynamics,
which needs to be considered when precise/dynamic control
is desirable, is complicated and nonlinear with total system’s
DOF even larger than the quadrotor’s 6-DOF in SE(3); and
Research supported in part by the Basic Science Research Program (2012-
R1A2A2A0-1015797) of the National Research Foundation (NRF) of Korea
funded by the Ministry of Education, Science & Technology (MEST).
The authors are with the Department of Mechanical & Aerospace
Engineering, Seoul National University, Seoul, 151-744, Republic of Korea.
E-mail:fyangssoo,djleeg@snu.ac.kr.
2) the quadrotor platform is under-actuated in its translation
with the body-ﬁxed 1-DOF thrust force input, although the
quadrotor rotation and the manipulator itself are typically
fully-actuated. Due to these challenges, the majority of the
available results on this QM-system rather consider the
quadrotor and the manipulator as separate systems and see
their coupling as disturbance (e.g., [13], [14]); or do not
fully take into account the large-dimensional nonlinear QM
dynamics in SE(3) and/or the issue of under-actuation when
designing/analyzing control laws (e.g., [14], [15], [17], [18]).
In this paper, applying passive decomposition [19]–[21],
we reveal an underlying structure of the nonlinear QM-
dynamics, which can substantially facilitate the control de-
sign and analysis. More precisely, we show that the La-
grange dynamics of the QM system, consisting of a 6-DOF
quadrotor platform and m-DOF robotic manipulator, can be
decomposed into the following two completely decoupled
systems:
 The center-of-mass translation dynamics in E(3), which,
similar to the standard quadrotor dynamics, is the point-
mass dynamics under-actuated only with the body-ﬁxed
thrust force input and under the effect of gravity; and
 The (3 + m)-DOF “internal rotational” dynamics of
quadrotor’s rotation and manipulator conﬁguration,
which has the form of standard Lagrange dynamics of
robotic manipulator with full-actuation, yet, without any
gravity effect.
Relying on this revealed structure, we also propose a
novel backstepping-like end-effector trajectory tracking con-
trol law, which allows us to assign different roles to the
center-of-mass dynamics control (e.g., more authority during
transportation task) and that for the internal rotational dy-
namics (e.g., more authority for precise end-effector control)
while utilizing the redundancy of the QM-system. We also
perform a simulation to illustrate our control framework for a
planar QM-system with 2-DOF robotic arm. This underlying
structure of the QM-system and the proposed backstepping-
like control framework are, in fact, equally applicable to
any vehicle-manipulator systems such as spacecraft with a
multi-DOF robotic arm or underwater vehicle equipped with
robotic manipulators.
The rest of the paper is organized as follows. Lagrange
dynamics of the QM-system is derived in Sec. II with some
properties shown. The underlying/decoupled structure of the
QM-dynamics, as mentioned above, is revealed in Sec. III
using passive decomposition [19]–[21]. Backstepping-like
end-effector trajectory tracking control is presented in Sec.
IV, and Sec V concludes the paper.
2014 IEEE International Conference on Robotics & Automation (ICRA)
Hong Kong Convention and Exhibition Center
May 31 - June 7, 2014. Hong Kong, China
978-1-4799-3684-7/14/$31.00 ©2014 IEEE 5544
N
o
E
o
D
o
N
B
E
B
D
B
p
e
p=[x;y;z]
?
link 1
link m
link 3
link m-1
link 2
?
2
?
3
? m
?
1
p
CoM
Fig. 1. Quadrotor with m-DOF robot arm: p = [x;y;z] is quadrotor
platform’s center position, pe =[xe;ye;ze] the end-effector position, and
 the thrust force input andp
CoM
is the center-of-mass position of the total
QM-system. Note that, in general, p6=p
CoM
.
II. LAGRANGE DYNAMICS OF
QUADROTOR-MANIPULATOR SYSTEM
Consider a quadrotor system in SE(3) with a m-DOF
serial-link robot arm as shown in Fig. 1. The conﬁguration of
this quadrotor-manipulator (QM) system can then be given
by
q := [p;;]2<
n
; n := 6 +m
where p = [x;y;z] 2 <
3
is the quadrotor platform’s
geometric/mass center position in the inertial NED-frame,
 = [
r
;
p
;
y
]2<
3
is the roll/pitch/yaw angles of the
quadrotor, and  = [
1
;
m
]2<
m
is the joint angles of
the robotic arm.
Deﬁne also the translation and rotation Jacobians [22],
J
vj
(r)2<
3n
and J
wj
(r)2<
3n
, s.t.,
v
j
=J
vj
(r) _ q; w
j
=J
wj
(r) _ q (1)
for j = 0; 1;:::;m, where r := [;] 2 <
3+m
represent
the quadrotor’s rotation and the robot arm’s joint angles,
v
j
;w
j
2<
3
are respectively the translation velocity of the
mass center and the angular velocity of the j-th link, with
j = 0 representing the quadrotor platform and j = 1;:::;m
each link of the robot arm, and the Jacobians J
vj
and J
wj
have the following structures:
J
vj
(r) =

I
3
J
r1
vj
J
r3+m
vj

(2)
J
wj
(r) =

O
3
J
r1
wj
J
r3+m
wj

whereO
3
2<
33
is the matrix that all the elements are 0.
Here, note that the Jacobians J
vj
;J
wj
are only functions of
r and not p = [x;y;z].
Using (1), we can then construct the QM-system’s kinetic
energy  :=
1
2
_ q
T
M(r) _ q with the inertia matrix M(r) 2
<
nn
as given by:
M(r) :=
m
X
j=0
h
m
j
J
T
vj
J
vj
+J
T
wj
R
j
I
j
R
T
j
J
wj
i
where m
j
andI
j
are the mass and the moment of inertia
of thej-th link about their center-of-mass expressed in their
body-ﬁxed frame [22]. Here, note thatM(r) is again only a
function of r and not of p, i.e., the QM-system dynamics is
symmetric w.r.t. p if no gravity is present. We can then see
that the inertia matrixM(r) assumes the following structure:
M(r) =

M
p
M
pr
(r)
M
T
pr
(r) M
r
(r)

(3)
where M
p
= m
L
I
3
2<
33
, where m
L
:=
P
m
j=0
m
j
> 0
is the total mass of the QM-system, with m
o
;m
i
being the
mass of the quadrotor and that of the j-th arm link.
The QM-system is under-actuated, that is, r = [;]2
<
3+m
is fully-actuated with the quadrotor’s roll/pitch/yaw
torque inputs and that for each link of the robot arm, while
p = [x;y;z]2<
3
is under-actuated with only the thrust
force input , whose direction is ﬁxed to the quadrotor’s
body-ﬁxed D-direction. More precisely, we can write the
control action for the QM-system by
 = [ R
o
e
3
;
r
;
p
;
y
;
1
;:::;
m
]2<
n
(4)
where  2 < is the thrust force input, R
o
(
r
;
p
;
y
) 2
SO(3) is the rotation matrix of the quadrotor parameterized
by (
r
;
p
;
y
), e
3
= [0; 0; 1] is a basis vector representing
the D-direction, and (
r
;
p
;
y
) and 
i
2< are respec-
tively the quadrotor’s roll/pitch/yaw torques and that of each
axis of the manipulator.
The QM-system is also under the effect of gravity along
the inertial frame’s D-direction. We can write this gravita-
tional potential energy by
'(q) := 
m
X
j=0
m
j
gz
j
(5)
where z
j
2< is the D-directional position of the j-th link
of the QM-system. Using the kinetic energy =
1
2
_ q
T
M(r) _ q
and the gravitational potential energy '(q) in (5), we can
obtain the Lagrange dynamics of the QM-system s.t.,
M(r) q +C(r; _ r) _ q +g(q) = +f (6)
where C(r; _ r) 2 <
nn
is the Coriolis matrix with
_
M 
2C being skew-symmetric, g(q) = @'(q)=@q2<
n
is the
gravitational force,  2<
n
is the (under-actuated) control
action in (4), and f2<
n
is the external disturbance. The
inertia matrixM(r) in (6) has the following property, which
will be instrumental for the ensuing development.
Proposition 1 If we write M
pr
(r) in (3) s.t.,
M
pr
(r) =
2
4
c
x
r
c
x
p
c
x
y
c
x
1
c
x
m
c
y
r
c
y
p
c
y
y
c
y
1
c
y
m
c
z
r
c
z
p
c
z
y
c
z
1
c
z
m
3
5
the gravity force vector g(q) in (6) can be written as
g
T
(q) = [0; 0;m
L
;c
z
r
;c
z
p
;c
z
y
;c
z
1
; ;c
z
m
]g : (7)
Proof: Recall that theij-th component ofM(r) is given by
@
2

@_ qi@_ qj
. Therefore, with M
p
=m
L
I
3
, the assertion to prove
is equivalent to
@
2

@ _ z@ _ q
i
= 
1
g
@'
@q
i
5545
Then, from the structure of (2), we have
@
2

@ _ z@ _ q
i
=
1
2
@
2
@ _ z@ _ q
i
m
X
j=0
m
j
_ q
T
J
T
vj
J
vj
_ q (8)
since terms with J
wj
do not contain _ z, thus, will disappear
by the partial differentiation w.r.t. _ z. Thus, we can write:
with J
qi
vj
2<
3
being the i-th column vector of J
vj
,
@
2

@ _ z@ _ q
i
=
@
2
@ _ z@ _ q
i
2
4
m
X
j=0
n
X
i=1
m
j
_ ze
T
3
J
qi
vj
_ q
i
3
5
=
m
X
j=0
m
j
e
T
3
J
qi
vj
:
On the other hand, time derivative of the gravity potential
'(q) in (5) can be computed s.t.,
d'
dt
=
@'
@q
_ q = 
m
X
j=0
m
j
g _ z
j
= 
n
X
i=1
m
X
j=0
m
j
ge
T
3
J
qi
vj
_ q
i
:
This then implies that
@'
@q
i
= 
m
X
j=0
m
j
ge
T
3
J
qi
vj
which completes the proof.
As mentioned above, the main challenge in designing
control laws for the QM-systems is the complexity of its
dynamics with large-DOF and dynamics coupling between
the p-dynamics and the r-dynamics (e.g., M
pr
in (3)). In
the next Sec. III, we will reveal an underlying decoupled
structure of the QM-system dynamics (6), which can greatly
facilitate the control design (see Sec. IV).
III. DECOMPOSITION OF QUADROTOR-MANIPULATOR
SYSTEM DYNAMICS
Here, we apply passive decomposition [19], [20] to reveal
the fundamental underlying structure of the QM-system dy-
namics, which is in fact shared by many vehicle-manipulator
systems (e.g., spacecraft with robotic manipulator, underwa-
ter vehicle with robot arm, etc). Following [21], let us ﬁrst
deﬁne the coordination map h(q) := r which is rotation of
platform and joint angles of robot arm. Then, we can split
the tangent space of the QM-system s.t.,

>
:=f _ q2<
n
jL
_ q
h(q) =L
_ q
r = 0g = null(@r=@q)

?
:=fv2<
n
jv
T
M(q) = 0;82 
>
g
whereL
_ q
h(q) is the Lie derivative ofh(q) along _ q. This then
implies that the tangent space of the QM-system splits s.t.,
T
q
M = 
>
 
?
(9)
where 1) 
>
is called tangential distribution (i.e., parallel
to the level set of h(q)) and the QM-system dynamics pro-
jected on this distribution is called locked system dynamics,
whereas 2) 
?
is called normal distribution (i.e., orthogonal
complement of 
>
w.r.t. the inertia matrix M(r)) and the
QM-system dynamics on this 
?
is called shape system
dynamics. See [21] for more details.
Since 
>
is the distribution, that is parallel to level
set h(q) = r, any motion of the QM-system in this 3-
dimensional 
>
should not alter the value of r. This then
implies that the component of the QM-motion in 
>
should
span all possible motion by _ p. On the other hand, the (3+m)-
dimensional 
?
is the orthogonal complement of 
>
w.r.t.
metricM(r), implying that any motion in 
?
should contain
both the components of _ r and that of _ p. This then means that,
we can write the velocity of the QM-system s.t.,
_ q =


>

?


_ p
L
_ r

| {z }
=:2<
n
:=

I
3
S
E
(r)
0 I
n 3

| {z }
=:S(r)
 (10)
where 
>
= [I
3
; 0]2<
n3
and 
?
= [S
E
(r);I
n 3
]2
<
nn 3
are matrices respectively identifying 
>
and 
?
,
and _ p
L
2 <
3
, which turns out to be the center-of-mass
velocity of the QM-system as to be shown below. Note the
difference between the QM-system center-of-mass p
L
and
the quadrotor platform’s center-of-mass p.
Lemma 1 If we write S
E
(r) s.t.,
S
E
(r) =
2
4
s
x
r
s
x
p
s
x
y
s
x
1
s
x
m
s
y
r
s
y
p
s
y
y
s
y
1
s
y
m
s
z
r
s
z
p
s
z
y
s
z
1
s
z
m
3
5
we then have
m
L
s
j
ri
= c
j
ri
where c
j
ri
is the ji-th element of M
pr
(r) in Prop. 1.
Proof: From the passive decomposition (9), the tangential
and the normal distributions are orthogonal with each other
w.r.t. M(q) metric, that is,
[I
3
0]M(r)

S
E
(r)
I
n 3

=M
p
S
E
(r) +M
pr
= 0
where M
p
=m
L
I
3
is a positive deﬁnite diagonal matrix.
Applying this passive decomposition to (6), we reveal the
underlying structure of the QM-system dynamics, namely, its
dynamics can be completely decoupled into the translational
center-of-mass dynamics of _ p
L
and the internal rotational dy-
namics of _ r, where the former has the form of the quadrotor
dynamics with the under-actuation and the gravity effect;
whereas the latter has the form of the standard Lagrange
dynamics of robotic manipulator with full-actuation and no
gravity effect showing up therein.
Proposition 2 Applying the passive decomposition (10), we
can transform the QM-system dynamics (6) into
m
L
 p
L
+g
L
=
L
(11)
M
E
(r) r +C
E
(r; _ r) _ r =
E
(12)
where
1) Locked system (11) describes the center-of-mass dy-
namics of the QM-system with _ p
L
= _ p
CoM
, m
L
=
P
m
j=0
m
j
, g
L
=  [0; 0;m
L
g] 2 <
3
and 
L
=
5546
R
o
(), where p
CoM
is the total QM-system center-
of-mass position.
2) Shape system (12) describes the internal rotational
dynamics of r = [;] of the QM-system with full-
actuation 
E
2<
3+m
, where M
E
2<
(3+m)(3+m)
isthepositivesymmetricinertiamatrixwith
_
M
E
 2C
E
being skew-symmetric.
Proof: The assertions on m
L
;M
E
and the skew-
symmetricity of
_
M
E
 2C
E
can be easily shown if we rewrite
the dynamics (6) using _ q =S (and  q =S _  +
_
S) with

m
L
I
3
0
0 M
E

:=S
T
M(r)S

C
L
C
LE
C
EL
C
E

:=S
T
[M(r)
_
S +C(r; _ r)S]
with
_
M
L
 2C
L
and
_
M
E
 2C
E
both being skew-symmetric,
andC
EL
= C
T
LE
. See [19] for more details. The assertions
on 
L
;
E
can also be shown by seeing
[
L
;
E
] :=S
T
(r)
where  is given in (4) with 
r
;
p
;
y
and 
i
, i =
1; 2;:::;m, all arbitrarily assignable.
The assertion on g
L
(q) and the absence of the gravity in
the shape dynamics (12) can be proved from
[g
L
;g
E
] :=S
T
(r)g(q)
where g
L
=

I
3
0
3(3+m)

g(q) = [0; 0;m
L
g] from (7)
and (10); and also g
E
=

S
T
E
(r) I
3+m

g(q) = 0 with the
i-th component of g
E
given by m
L
gs
z
i
 c
z
ri
= 0 from
Prop. 1 with the expression of g(q) given in (7).
The velocity of QM-system’s center-of-mass is given by
m
L
_ p
CoM
=m
o
_ p +
m
X
j=1
m
j
_ p
j
=
m
X
j=0
m
j
n
X
i=1
J
qi
vj
_ q
i
where p is the quadrotor’s center-of-mass and p
j
is that of
the j-th link of the robot arm. If we extract only the x-
component of _ p
CoM
, we have
m
L
_ p
x
CoM
=
n
X
i=1
m
X
j=0
m
j
e
T
1
J
qi
vj
_ q
i
=m
L
_ x +
3+m
X
i=1
c
x
ri
_ r
i
where we use (2). If we collect the similar results for
m
L
_ p
y
CoM
, m
L
_ p
z
CoM
and use Lem. 1, we can then show that
m
L
_ p
CoM
=m
L
_ p m
L
S
E
(r) _ r
which implies _ p
CoM
= _ p
L
, since _ p = _ p
L
+S
E
(r) _ r from (10).
Lastly, note that the ﬁrst row of the Lagrange dynamics
(6) can be written as
m
L
 x+
3+m
X
i=1
c
x
ri
 r
i
+
n
X
i=1
n
X
j=1
1
2
 
@c
x
j
@q
i
+
@c
x
i
@q
j
 
@c
i
j
@x
!
_ q
i
_ q
j
=
1
where 
1
is the ﬁrst component of , and the last term in
left hand side is the Coriolis term [22], where @c
i
j
=@x = 0,
since M(r) is a function of r only. We can further simplify
n
X
i;j=1
1
2

@c
x
j
@q
i
+
@c
x
i
@q
j

_ q
i
_ q
j
=
n
X
i;j=1
@c
x
j
@q
i
_ q
i
_ q
j
=
3+m
X
j=1
dc
x
rj
dt
_ r
j
due to the symmetry ini andj and@c
j
i
=@q
i
= 0,i = 1; 2; 3
from M
p
=m
L
I
3
. Then, the above dynamics equation can
be rewritten as
m
L
 x +
3+m
X
i=1
c
x
ri
 r
i
+
3+m
X
i=1
dc
x
ri
dt
_ r
i
=
1
(13)
with a similar also hold for the dynamics of  y;  z.
Recall from (10) with Lem. 1 and the differentiation of
which with (13) then becomes
m
L
 p
x
L
=
1
(14)
with a similar hold for  p
y
L
and  p
z
L
. This means that the
QM-system’s center-of-mass dynamics is given by the
locked system dynamics (11) with no Corilois terms
therein (i.e., C
L
= 0 and C
LE
= 0). This also means that
C
EL
= C
T
LE
= 0 as well (see [19] for more details). This
completes the proof.
The underlying structure of the QM-system dynamics, as
manifested in (11)-(12), possess the following interesting
properties:
 It is a combination of the center-of-mass translation
dynamics of _ p
L
and the internal rotational dynamics
of _ r;
 The _ r-dynamics is similar to the standard Lagrange
dynamics of the fully-actuated serial-link robot arm;
 Gravity effect and the under-actuation affect only along
the _ p
L
-dynamics direction and completely vanish in the
_ r-dynamics;
 The _ p
L
-dynamics and the _ r-dynamics are completely
decoupled from each other, with neither acceleration
coupling nor Coriolis coupling.
Note that this underlying structure (11)-(12) is universally
applicable to many practically important vehicle-manipulator
systems, including satellite with robot-arm, and underwater
ROV with robotic manipulator. Note also that this dynamics
decoupling of (11)-(12) is an inherent property of such
vehicle-manipulator system dynamics, thus, granted with
no decoupling control action necessary. This decomposition
(11)-(12) would also facilitate control design procedure, as
we can design control laws for the center-of-mass motion and
the internal rotational motion, separately and individually, as
shown in the next Sec. IV.
IV. TRAJECTORY TRACKING CONTROL DESIGN
The underlying structure, revealed in Sec. III, can facilitate
control design for the QM-system (6). To show this, although
other control objectives are also possible, here, we focus on
the trajectory tracking of the end-effector, which is the one
of the most basic control objectives among others. For this,
let us denote by p
e
:= [x
e
;y
e
;z
e
] 2 <
3
the end-effector
Cartesian position expressed in the inertial NED-frame. We
can then establish a forward kinematic relation between p
e
and q which can be represented as a form of p
e
= p +
5547
f(r) where f(r) is a relation of end-effector and quadrotor
platform, and can obtain its Jacobian relation s.t.,
_ p
e
=

I
3
A(r)

_ q = _ p
L
+B(r) _ r (15)
where A(r)2<
3(3+m)
, and B(r) = A(r) +S
E
(r) by
combining (10) and (15).
For the trajectory tracking of the end-effector, let us deﬁne
desired trajectory p
d
e
. We then want to design control law
so that the end-effector position p
e
converges to this p
d
e
according to _ p
e
= _ p
d
e
 k(p
e
 p
d
e
) wherek> 0 is a constant.
From this relation, we can deﬁne the desired value _ p
d
L
s.t.,
_ p
d
L
:= _ p
d
e
 k(p
e
 p
d
e
) B(r) _ r (16)
Here, note that, in general, _ p
L
6= _ p
d
L
. To capture this error of
_ p
L
, let us deﬁne e
L
:= _ p
L
  _ p
d
L
. Then, using (15), we have
_ e
p
+ke
p
=e
L
(17)
where e
p
:= p
e
 p
d
e
. Here, note that, if e
L
! 0, e
p
! 0
exponentially. The above relation then naturally give a rise
to a backstepping-like control, as summarized in Th. 1.
Theorem 1 Consider the QM-system dynamics (6), which is
composed of the locked and shape systems (11)-(12). Then,
(e
p
;e
L
)! 0 exponentially, if we set 
L
;
E
s.t.,

L
+m
L
BM
 1
E
[
E
 C
E
_ r] = (18)
 e
p
 e
L
+g
L
+m
L
[ p
d
e
 k _ e
p
 
dB
dt
_ r] =:
cge
where ;;k> 0 are constant and 
E
 C
E
_ r =M
E
 r from
(12).
Proof: Deﬁne
V :=
1
2
e
T
p
e
p
+
1
2
e
T
L
m
L
e
L
: (19)
Then, time derivative of V is represented as following
dV
dt
= ke
T
p
e
p
+e
T
p
e
L
+
1

e
T
L
[
L
 g
L
 m
L
_ 
d
L
]
= ke
T
p
e
p
+
1

e
T
L
m
L
BM
 1
E
[
E
 C
E
_ r]
+
1

e
T
L
[e
p
+
L
 g
L
 m
L
( p
d
e
 k _ e
p
 
dB
dt
_ r)]
from (11) and (16). Plugging (18) into this, we can obtain
dV
dt
= ke
T
p
e
p
 


e
T
L
e
L
 0 (20)
implying that (e
p
;e
L
)! 0 exponentially.
Note that the control generation equation (18) is in general
a redundant equation, that is, even though we have 1-DOF
control
L
=R
o
(), we also have (3+m)-DOF control
E
to assign equation (18) depending on the task objective. For
instance, if the task is simply a transport, it would be proper
to assign more control action on 
L
, while making that for

E
only complementary. Or, if the task is a precise motion
control with the platform desired to be stationary as much as
possible, 
L
would need to compensate only for the gravity
g
L
, while the precise motion control action is assigned to

E
. How to assign control actions for 
L
and 
E
given a
task objective is spared for future research.
Here, due to the issue of under-actuation, we cannot assign

L
= R
o
() arbitrarily, since  is not control variable,
although so is . To address this under-actuation, we ﬁrst
deﬁne , 
d
s.t.,
R
o
(
d
) :=
cge
 m
L
(r) (21)
where (r) is a function to encode a certain sub-task for r-
motion under the end-effector trajectory tracking, which is to
be deﬁned below. We then apply the control 
L
=R
o
(),
with 6= 
d
in general. How to achieve ! 
d
will be
discussed below.
Given this 
L
, we then choose 
E
to satisfy the control
generation equation (18) s.t.,
m
L
B(r)M
 1
E
[
E
 C
E
(r; _ q) _ r] =
cge
 
L
(22)
where again 
L
=R
o
() with  deﬁned in (21). This then
means that, even if 
L
, due to the under-actuation, does
not precisely satisfy its control generation equation (21),
the condition (18) is still ensured and so is the exponential
convergence of (e
p
;e
L
)! 0.
Note that B(r)2<
3(3+m)
in the 
E
-control generation
equation (22) is a fat matrix. This means thatB(r) assumes a
non-trivial nullspace which can embed some control actions
for the r motion while preserving eq (18). In this paper,
we mainly use this null-space of B to drive the quadrotor
to reach the desired orientation (i.e.,  ! 
d
) to attain
the desired thrust direction as speciﬁed in (21). Precise
controllability analysis of!
d
in null space ofB will be
reported in future publication, however, !
d
is achieved
in planar motion which is exploited in simulation below.
Now, suppose that the
L
-generation (21) is achieved, with

d
. Then, from (18), we have
B r =BM
 1
E
(
E
 C
E
_ r) =(r) (23)
This then implies that (r) can encode a certain sub-task
objective for the r-motion while still enforcing the end-
effector trajectory tracking. One such a example is
(r) =Bf r
d
 k
d
( _ r  _ r
d
) k
p
(r r
d
)g (24)
to drive r ! r
d
to keep robot-arm in a certain desired
posture r
d
(e.g., avoid singularity) while enforcing end-
effector tracking. Note that this r! r
d
is not guaranteed
per se, since this sub-task control action (r) is effective
only for the row-space of B, not for the null-space of B.
We apply this control framework to a quadrotor with 2-
DOF arm, whose motion is constrained on its sagital plane.
The trajectory is given by x
d
e
, y
d
e
and the sub-task desired
posture r
d
is given to avoid singularity (i.e., 
2
= 0). The
null-space ofB is given by
_
 = 
_

1
, which is used to attain
the desired pitch angle
d
to align
L
according to (21). The
result of end-effector trajectory tracking is shown in Fig. 2.
We also perform another simulation, where, assuming that a
force sensor is available, an admittance-type force control is
implemented for the end-effector with a visco-elastic virtual
wall, and the result is given in Fig. 3.
5548
Fig. 2. Snapshots of end-effector trajectory tracking of a planar quadrotor
with 2-DOF arm with error convergence.
?0.2 0 0.2 0.4 0.6 0.8
?0.8
?0.6
?0.4
?0.2
0
0.2
x?position(m)
z?position(m)
quadrotor trajectory
0 10 20 30 40 50 60
?10
?5
0
force vs time
time(sec)
force(N)
Fig. 3. Snapshots of the quadrotor-manipulator system under admittance-
type force control with force proﬁle.
V. CONCLUSION
In this paper, we reveal a certain underlying structure
of the nonlinear Lagrange dynamics of the quadrotor-
manipulator (QM) system, that is, its dynamics is in fact
composed of the combination of two decoupled dynamics: 1)
the quadrotor-like center-of-mass dynamics in E(3) with all
under-actuation and gravity effect show-up only therein; and
2) the “internal rotational” dynamics of quadrotor’s rotation
and the manipulator conﬁguration in the form of standard
Lagrange dynamics with full actuation and no gravity effect.
Relying on this structure, we propose a backstepping-like
end-effector trajectory tracking control law, which allows
us to assign different control authority for each of these
systems according to task objectives by exploiting the control
actuation redundancy for the end-effector control. Simula-
tions using a planar quadrotor with a 2-DOF arm are also
performed to verify the proposed theoretical framework.
Some future research directions include: 1) formalization
of the issue of control assignment according to task objec-
tives; 2) implementation of the proposed framework on a real
QM-system; and 3) application/extension of the proposed
framework to space or underwater manipulation.
REFERENCES
[1] E. Frazzoli, M. A. Dahleh, and E. Feron. Trajectory tracking control
design for autonomous helicopters using a backstepping algorithm. In
Proc. American Control Conference, pages 4102–4107, 2000.
[2] R. Mahony and T. Hamel. Robust trajectory tracking for a scale model
autonomous helicopter. International Jounal of Robust and Nonlinear
Control, 14:1035–1059, 2004.
[3] M-D Hua, T. Hamel, P. Morin, and C. Samson. A control approach
for thrust-propelled underactuated vehicles and its application to vtol
drones. IEEE Transactions on Automatic Control, 54(8):1837–1853,
2009.
[4] O. Purwin and R. D’Andrea. Performing aggressive maneuvers using
iterative learning control. In Proc. IEEE Int’l Conference on Robotics
and Automation, pages 1731–1736, 2009.
[5] D. J. Lee. Distributed backstepping control of multiple thrust-propelled
vehicles on balanced graph. Automatica, 48(11):2971–2977, 2012.
[6] D. J. Lee, C. Ha, and Z. Zuo. Backstepping control of quadrotor-type
uavs: trajectory tracking and teleoperation over the internet. In Proc.
Int’l Conf. on Autonomous Systems, pages 217–225, 2013.
[7] N. Michael, J. Fink, and V . Kumar. Cooperative manipulation and
transportation with aerial robots. AutonomousRobots, 30:73–86, 2011.
[8] I. Palunko, R. Fierro, and P. Cruz. Trajectory generation for swing-
free maneuver of a quadrotor with suspended payload: a dynamic
programming approach. In Proc. IEEE Int’l Conference on Robotics
and Automation, pages 2691–2697, 2012.
[9] V . Ghadiok, J. Goldin, and W. Ren. Autonomous indoor aerial gripping
using a quadrotor. In Proc. IEEE/RSJ Int’l Conference on Intelligent
Robots and Systems, pages 4645–4651, 2011.
[10] A. M. Dollar P. E. I. Punds, D. R. Bersak. Grasping from the air:
hovering capture and load stability. In Proc. IEEE Int’l Conference
on Robotics and Automation, pages 2491–2498, 2011.
[11] D. J. Lee and C. Ha. Mechanics and control of quadrotors for tool
operation. In Proc. ASME Dynamics Systems and Control Conference,
pages 177–184, 2012.
[12] H. N. Nyugen and D. J. Lee. Hybrid force/motion control and internal
dynamics of quadrotors for tool operation. In Proc. IEEE/RSJ Int’l
Conference on Intelligent Robots and Systems, number 3458–3464,
2013.
[13] A.E. Jimenez-Cano, J. Martin, G. HereDia, and R. Cano A. Ollero.
Control of an aerial robot with multi-link arm for assembly tasks.
In Proc. IEEE Int’l Conference on Robotics and Automation, pages
4901–4906, 2013.
[14] C. Korpela, M. Orsag, and P. Oh M. Pekala. Dynamic stability of
a mobile manipulating unmanned aerial vehicle. In Proc. IEEE Int’l
Conference on Robotics and Automation, pages 4907–4912, 2013.
[15] V . Lippiello and F. Ruggiero. Exploiting redundancy in cartesian
impedance control of uavs equipped with a robotic arm. In Proc.
IEEE/RSJ Int’l Conference on Intelligent Robots and Systems, pages
3768–3773, 2012.
[16] X. Ding and Y . Yu. Motion planning and stabilization control of a
multipropeller multifunction aerial robot. IEEE/ASME Transactions
on Mechatronics, 18(2):645–656, 2013.
[17] K. Kondak, K. Krieger, A. Albu-Schaeffer, M. Schwarzbach, M. La-
iacker, I. Maza, A. Rodriguez-Castano, and A. Oller. Closed-loop
behavior of an autonomous helicopter equipped with a robotic arm for
aerial manipulation tasks. International Jounal of Advanced Robotic
Systems, 10(145):1–9, 2013.
[18] S. Kim, S. Choi, and H. J. Kim. Aerial manipulation using a quadrotor
with a two dof robotic arm. In Proc. IEEE/RSJ Int’l Conference on
Intelligent Robots and Systems, pages 4990–4995, 2013.
[19] D. J. Lee. Passive decomposition and control of nonholonomic
mechanical systems. IEEE Transactions on Robotics, 26(6):978–992,
2010.
[20] D. J. Lee. Passive decomposition of mechanical systems with co-
ordination requirements. IEEE Transactions on Automatic Control,
58(1):230–235, 2013.
[21] D. J. Lee. Passive conﬁguration decomposition and practical stabiliza-
tion of nonholonomic mechanical systems with symmetry. In Proc.
IEEE Conference on Decision and Control, pages 3620–3625, 2010.
[22] M. W. Spong, S. Hutchinson, and M. Vidyasagar. Robot modelling
and control. WILEY , 2006.
5549
