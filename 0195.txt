Early Failure Characterization of Cantilever Snap Assemblies using the
PA-RCBHT.
Juan Rojas
School of Software
Sun Yat Sen University
Guangzhou, Guangdong, 510006, China
Kensuke Harada, Hiromu Onda, Natsuki
Yamanobe, Eiichi Yoshida, and Kazuyuki
Nagata.
Intelligent Sys. Research Institute, AIST
Tsukuba, Ibaraki, 305-8568, Japan
Abstract—Failure detection and correction is essential in
robust systems. In robotics, failure detection has focused on
traditionalpartsassembly,toolbreakage,andthreadedfastener
assembly. However, not much work has focused on sub-mode
failure classiﬁcation. This is an important step in order to pro-
vide accurate failure recovery. Our work implemented a novel
failure characterization scheme for cantilever snap assemblies.
The approach identiﬁed exemplars that characterized salient
featuresforspeciﬁc deviationsfroma nominal trajectory.Then,
a rule based approach with statistical measures was used to
identifyfailureandclassifyfailuresub-modes.Failuresub-mode
classiﬁcation was evaluated by using a reliability measure. Our
work classiﬁed failure deviations with 88% accuracy. Varying
success was experienced in correlating failure deviation modes.
Cases with only 1-deviation had 86% accuracy, cases with
2-deviations had 67% accuracy, and cases with 3 deviations
had 55% accuracy. Our work is an important step in failure
characterization of complex geometrical parts and serves as a
stepping stone to enact failure recovery.
I. INTRODUCTION
Failure characterization (FC) and correction is essential in
robustsystems. FCinitial developmentsfocused on detecting
abrupt changes [1].Since then, numerous ﬁlters and rule-
based methods emerged. Overtime, statistical and machine
learning methods were implemented to detect failure [2].
FC can be divided into model or model-free approaches.
The former use theoretical system designs to identify failure,
whilethelatteruseexperimentaldata.Model-freeapproaches
can be both computationally expensive and damaging to
robot equipment.
In robotics, FC has traditionally focused in parts assembly
[3], [4], [2], tool breakage [5], [6], and threaded fastener
assembly [7]. Recent work has used support vector machines
to detect task outcome [2], [5]. Less work has focused on
the harder problem of further classifying failure into failure
modes. The latter identiﬁes not only failure but the failure
type, which is a necessary to implement failure recovery.
Our work, focuses on performing FC on Snap Assemblies.
These are of great interest in industry and personal service
robots but are challenging due to their elastic nature and
geometrical complexity. There are three classes of snap
fasteners: cantilever, annular, and torsional [8]. Cantilever
snaps, are the most common and range from 1 to 2 or more
fasteners in their mechanism. For this reason, they pose a
higher degree of complexity than traditional assemblies.
Formerly,weimplementedaframeworkthatallowedusto:
(i) autonomously assemble parts through the Pivot Approach
(PA) [9], (ii) execute state reasoning through the Relative-
Change-Based Hierarchical Taxonomy (RCBHT) [10], along
with bayesian ﬁltering, calibration, and a late stage FC
analysis [11], [12], [13]. A snapshot of the humanoid robot
HIROperformingacantileversnapassemblywith4fasteners
is seen in Fig. 1(a).
To this stage, however, no work has been done to per-
form early failure characterization in snap assemblies. These
assemblies yield complex force signatures that stem both
from intricate hardware conﬁgurations and selected motion
strategies to accomplish a task. The complexity is such that
assembly planning methods like contact-state graphs [14]
have yet to be used in this context.
ThisworkstudiesifFCcanbeperformedforlimitednoise
deviations that occur at early stages of a snap assembly.
FC encompasses both failure detection and failure mode
classiﬁcation. We hypothesize that if by associating salient
features with deviations in 1-direction, then when multiple
deviation directions are present, those same salient features
can linearly superpose and be used to identify the failure
deviation directions and magnitude.
We propose a novel rule-based approach that works in
concert with the PA and the RCBHT. The PA partitions
the task into four automata states that aid in the task’s
contextualization. The RCBHT yields ﬁve abstraction levels
of increasing intuitiveness. Each level possesses labeling for
actions or behaviors and quantitative data used to identify
salientfeatures.OurFCschemeﬁrstidentiﬁeskeyexemplars
that capture salient features in the ﬁrst two automata states
of the PA. Exemplars are used to determine if (i) the task
failed?, and (ii) if so, what failed and by how much?
Exemplars were discovered by contrasting, user-veriﬁed,
successful snap assemblies with failed assemblies. Speciﬁ-
cally,goodtrajectoriesweremodiﬁedbyintroducingnoisein
onlyoneof3directions(fromhereonnameddeviations).By
contrasting successful assemblies with 1-direction deviations
salient features were extracted as exemplars.
Later, training was used to compute statistical measures
that help identify: (i) failure detection for a speciﬁc deviation
direction, and (ii) the reliability of failure mode detection
results. The testing phase evaluated the scheme’s accuracy
2014 IEEE International Conference on Robotics & Automation (ICRA)
Hong Kong Convention and Exhibition Center
May 31 - June 7, 2014. Hong Kong, China
978-1-4799-3684-7/14/$31.00 ©2014 IEEE 3370
in both failure and failure mode detection. The testing was
performed off-line.
Training consisted of 20 trials in which deviations were
appliedinthreeseparatedirectionsandcombinationsofthese
three in world coordinates. The testing phase used 34 new
trials.Testingresultsshowedthatourschemedetectedfailure
with 88% accuracy and failure modes with an average of
76% accuracy. Our approach hypothesis discovered that the
contextual identiﬁcation of exemplars based on constrained
trajectory motion can aid in the identiﬁcation of failure and
failure modes, although with some limitations. Our work
provides a simple and ﬂexible approach to FC of cantilever
snap assemblies.
The rest of the paper is organized as follows: the experi-
mental set-up is presented in Sec. II, the Pivot Approach and
RCBHTarepresentedinSec.III,theFCschemeispresented
in Sec. IV, Experiments and Results are presented in Sec. V,
the discussion is presented in Sec. VI, and the conclusion is
presented in Sec. VII.
II. SIMULATION SETUP
HIRO, a simulated 6 DoF dual-arm anthropomorph robot,
was used in the OpenHRP 3.0 environment [15]. CAD
derived male and female camera parts were used. The male
part was rigidly mounted on the robot’s wrist, while the 4-
snap female part, was ﬁxed to the ground as in Fig. 1(a). For
more details see [11].
III. THE PIVOT APPROACH AND THE RELATIVE
CHANGE-BASED HIERARCHICAL TAXONOMY
The PA exploits snap parts’ hardware design to constraint
thetask’smotionandgeneratesimilarsensory-signalpatterns
across trials and systematically discretize the assembly into
intuitive states [9]. In a successful assembly, four states are
completed: the Approach, Rotation, Insertion, and Mating
states.Fig.1(b)showstheassemblyusingthephysicalHIRO
robot. For the purposes of this work, it is sufﬁce to know
that the Approach trajectory, a quasi-linear motion trajectory,
will be modiﬁed to produce failed assemblies.
The RCBHT yields state representations by hierarchi-
cally abstracting snap assembly force-torque (FT) data in
increasingly intuitive ways [10]. The hierarchical taxonomy
is composed of four increasingly abstract layers that encode
relative-change in the task’s force signatures with a ﬁfth
layer used for state reasoning. The taxonomy is built on
the premise that relative-change patterns can be classiﬁed
through a small set of categoric labels and aided by con-
textual information. The RCBHT analyzes FT signatures
from all force axes independently and contextualizes the
state according to automata state participation. Previously,
the RCBHT had not explicitly analyzed the approach state
in its 5th layer, but now for early FC it will. The system’s
layered analysis is shown in Fig. 1(c).
In this section, we will brieﬂy describe the layer’s key
aspects but will place more emphasis on the 2nd and 5th
layers. While the description is brief, the FC process will
particularly identify salient features from the 2nd layer and
make use of the quantitative information there in to produce
statistical measurements.
A. Primitive Layer
The ﬁrst layer, the Primitives Layer, partitions FT data
into linear data segments and classiﬁes them according
to gradient magnitude. Linear regression was used with
a correlation measure to segment data when a minimum
correlation threshold is ﬂagged. The gradient classiﬁcation
startsseparatingdatabylookingforcontactormatingevents.
Contact phenomena is characterized by abrupt changes in
force signals almost approximating an impulse. To this end,
positive and negative impulse labels were assigned to large
gradients (see [12] for threshold parameters). For mating
events, there is relatively small or no change in FT data. For
this reason, constant labels are assigned to small gradients.
In between these two extremes, another six sets of gradient
classiﬁcations and quantitative data were issued to inform
about the relative gradient change.
B. Composites
The next layer analyzes ordered-pair Primitives sequences
to create “motion compositions” (MC’s). By studying pat-
terns in the ordered-pairs, seven sets of higher-level abstrac-
tion are extracted. These actions can represent force-torque
signal’s: adjustments, increases and decreases, contacts, and
constantandunstableforms.Besidestheassignedlabel,each
MCpossesquantitativedata:averagemagnitudevalues,max-
imum signal values, average amplitude values, and starting
and ending times for each of the primitives
1
.
Filtering is executed after the motion compositions cre-
ation. Filtering merges motion compositions based on three
different criteria: (i) a time-duration context, (ii) repeated
MCs, and an (iii) amplitude value context. Detailed ﬁltering
rules are outlined in [13], here we limit to mention that their
goal is to keep meaningful actions by ﬁltering noisy ones.
The MC layer is key to the FC exemplar identiﬁcation.
The MC’s quantitative data is general enough that we do not
tamper with noisy signal dynamics yet not abstract enough
that salient feature details are lost. All of our exemplars
consistofeitherkeymotioncompositionaveragemagnitudes
or average amplitude values.
C. Low-Level Behaviors
The taxonomy’s third layer considers MC ordered pairs
and uses the same contextual information (signal du-
ration and amplitude values) to yield another set of
higher-abstraction classiﬁcations called low-level behaviors
(LLB’s). Eight LLB classiﬁcations were derived and la-
beled as: push, ‘PS’, pull, ‘PL’, contact, ‘CT’, ﬁxed, ‘FX’,
alignment, ‘ALIGN’, shift, ‘SH’, and noise, ‘N’. The LLB
formulation criteria is similar to those at the MC level. The
process of continuing to abstract in the same way, reveals
1
For this work the RMS value ﬁeld in the RCBHT was changed for a
maximum signal value
3371
?y
??
Possible Deviation 
Directions
?x
HL Behaviors
Snap Verication Layer
LL Behaviors
Motion Comps
Primitives
ALIGN ALIGN
ROTATION
SUCCESS & FC
mpos bneg
bneg
const
const
pimp
bpos
mneg
Adjust Increase Adjust
const const
Adjust Decrease
Fig. 1. HIRO assembles the snap assemblies through the PA’s four states: Approach, Rotation, Insertion, and Mating. The RCBHT helps identify primitives,
MC’s, LLB’s, HLB’s, and the task’s outcome.
high-level details that are not apparent at more granular
stages. This level also has a ﬁltering cycle and is detailed
in [10].
D. High-Level Behaviors
The ﬁfth layer, the high-level behaviors(HLB’s) layer pre-
viouslyfocusedindeterminingwhetheranassemblytaskwas
successful or not. It did so by analyzing whether empirically
selected LLB’s were present in the 2nd-4th automata states.
If so, it would ﬂag the task as successful. Later in [11], this
level also generated belief states about the task’s success. In
this work, the HLB layer was used to serve as an entry point
for FC. FC analysis takes place as soon as the HLB layer
analyzes the Approach State. In this case, instead of looking
for key LLB’s, it follows the FC scheme presented in Sec.
IV. If the scheme detects a failure scenario, the rest of the
analysis is aborted and relevant FC data is updated.
IV. FAILURE CHARACTERIZATION SCHEME
Our FC method is a novel model-free rule based approach
that uses the PA approach and the RCBHT. The PA con-
straints the assembly motion and partitions the task into four
intuitive automata states that are in turn used by the RCBHT
to richly contextualize the assembly task. The PA/RCBHT
approach facilitate the identiﬁcation of key actions or be-
haviors in a given automata state in a given force axis.
The RCBHTs actions or labels have average magnitudes,
amplitudes, and durations that can be used to characterize
both successful and failed tasks. Before presenting the FC
scheme, a set of fundamental principles for FC is presented.
A. Failure Characterization Requirements
FC systems consist of at least three components [16]:
(a) General Failure Identiﬁcation: the system identiﬁes if
failure is present. The system should be robust against false-
positive situations.
(b) Failure Modes Identiﬁcation: the system should not only
be able to identify if the task failed, but what speciﬁc task
aspect’s failed.
(c) Diagnostics: the system should provide quantitative data
about the failure. When and by how much did something
fail?
Thisinformationcanthenbeusedbyafailurerecoverymode
and attempt to return the task’s state to normal operation.
B. Failure Sources
Current state-of-the-art robotic systems are still liable
to introduce error into a task. Main failure sources in
manipulators are attributed to: upper bounds on payloads
and speeds; absolute position accuracy which is dependent
on temperature, load, speed, and workspace position; and
repeatability error. Similarly, mechanical parts contribute to
failure due to differences in design within the permitted
tolerance range. And another important failure source is
the uncertainty in pose of both robot effectors and parts,
especially in less structured environments [3].
C. Constraints
This sections presents key constraints assumed in our
work. Central to our approach is the assumption that the
failures we study are ones that slightly miss the mark. We
hypothesize that failure correction is most meaningful when
one“slightlyfails.”Incases,wherethedeviationislarge,one
still has to correct the motion, but this correction is charac-
terized by “starting from the beginning” and not with slight
corrective motions. This work does not yet focus on failure
recovery but the assumptions are important groundwork for
future work.
In our attempt to deﬁne “slight failures” we do so relative
to the dimensions of the snap parts (0.175m x 0.0575m x
0.03m). We also select world coordinate frames that are
relevant and upper and lower bounds for those deviations.
The coordinate-frame constraints selection is tied to the
way in which the original approach trajectory, from the
homing position to the contact of parts (known as the
Approach State ine the PA strategy) works. [9]. In the linear
domain, +x and ±y were identiﬁed as free variables. In
the rotational domain, Yall rotations about the z-axis (±?)
3372
wereidentiﬁedandshowninFig.1(a).Thefollowingbounds
were used for each of the free variables: 0.0075m ≤ x ≤
0.0105m; 0.0075m ≤ y ≤ 0.0105m and ?0.0105m ≤
y ≤ ?0.0075m; +0.1745rads ≤ ? ≤ +0.5066rads and
?0.5066rads≤ ?≤?0.1745rads.
In the Approach State of the PA, the male part always
hits the posterior wall of the female part, hence we only
consider motions that go past that wall. In the rotational
domain we only considered pivot motions about the z-axis.
We do not explicitly consider rotations about the x- or y-
axis since the Approach State the male part already contact’s
its counterpart at an angle about the y-axis. Changing this
angle, ?, would only change the duration of the task. We
do assume bounds of ?0.087 rads
?
≤ ? ≤ 3.145 rads
?
?.
Thelowerlimit preventspremature contact between the male
snaps and the female walls.
D. Failure Scheme
The Failure Scheme presented in this work is divided into
three stages: (i) exemplar identiﬁcation; (ii) training for sta-
tistical measures computation, and (iii) testing. The exemplar
identiﬁcation stage ﬁnds salient features that characterize
motions that deviate from nominal trajectory paths in one,
two, and up to three simultaneous directions. The exemplars
are used to derive three statistical measurements for success-
ful and failure assemblies: average exemplar values across
trials and associated upper and lower bounds. Finally, we
test the accuracy of the scheme to identify (i) failure modes
and (ii) the reliability of failure mode detection results.
1) Exemplar Identiﬁcation: A key to identify salient
features is to constraint the problem’s dimensionality. We
constrained failure cases by modifying the original PA
Approach State trajectory motion (see Fig. 1(b)), in one
of the three directions introduced in Sec. IV-C. Namely,
?+x,±y and ± ??. Noise was inserted within established
bounds and deviation directions, one-at-a-time.
Exemplar Identiﬁcation takes place by considering pos-
sible factors: (i) MC presence in a given state (RCBHT’s
2nd layer); (ii) their average magnitude value throughout
an automata state or a selected portion of it; (iii) similarly,
their average amplitude value, or (iv) the duration of a given
MC. This analysis can similarly take place for LLB’s (the
RCBHT’s 3rd layer). These four factors can characterize a
task’s key dynamics and identify failure and corresponding
failure modes.
Five exemplars were discovered by contrasting, user-
veriﬁed, successful snap assemblies with failed assemblies.
Each exemplar was correlated with: (i) presence in a given
force axis; (ii) presence in a given PA automata state; (iii)
a selected parameter from the list presented in the previous
paragraph; (iv) salient feature duration in a state (starting
from the beginning of a state), and (v) an abbreviated
notation for the exemplar. Discovered exemplars are shown
in Fig. 2. The exemplars, use local wrist-coordinates and
their selection is explained below.
X-axis deviations are mostly characterized by the vertical
Dir Num
Force 
Axis
PA State
Parameter            
(Avg Val)
State 
Duration
Notation
1 My Rotation Magnitude 50% My.Rot.AvgMag
2 Mz Rotation Magnitude 50% Mz.Rot.AvgMag
±y 1 Mz Rotation Amplitude 100% Mz.Rot.AvgAmp
1 Fx Approach Magnitude 100% Fx.App.AvgMag
2 Fz Approach Magnitude 100% Fz.App.AvgMag
±?
+x
Fig. 2. Exemplar Identiﬁcation: Five exemplars were identiﬁed for
trajectorydeviationsinthreedirections.Twoexemplarswerecorrelatedwith
deviations in the x-direction, one with deviations in the y-direction, and two
with deviations in the Yall or ? direction.
contact that the male snap makes with the female snap (z-
axis in local coordinates). It’s also interesting to note that
My signatures strongly correlate Fz in the ﬁrst half of the
Rotation state. This is so, due to the fact that upon impact,
the angle at which the male snap makes contact, allows the
My axis to point in a similar direction to that of Fz. As
the wrist aligns with the horizontal (the second part of the
Rotation state), Mz tends to correlate more with Fx (as
that axis points parallel to the base frame). By selecting the
magnitude values of MCs in the ﬁrst-half of the Rotation
state (and thus the exemplar describes the average magnitude
value) signatures between successful cases and those with
deviations in the x-axis are distinguished well. Note that Fx
is not used because even in the presence of a large number
of deviations in x, the angle at which contact is made, allows
themaleparttoremainwithinthefrictionconeofimpactand
maintains part quite static. This makes the Fx signature very
similartothatofsuccessfulassemblies(thoughwenotedthis
not to be true in situations where the x-deviation was closer
to 0.0100m).
Y-axis deviations ﬁrst consider that the PA is attempting
the assembly while applying a downward push during the
Rotation state. After the approach, the male parts tries
to rotate about y
W
. That is, in the absence of horizontal
alignment, the male parts pivots signiﬁcantly about the x
W
giving rise to a clear signature. Average magnitude values
are not used for this exemplar because force signals tend to
oscillate about the origin cancelling each other out.
Yall deviations, consider that as the male part rotates
about the z
W
, the contact magnitudes both in the x- and
z-coordinates are greatly diminished. Furthermore, the tran-
sition condition to move from the Approach to the Rotation
state is designed to reach a certain threshold upon the proper
contact of the male and female parts at the docking pivot. By
visualizing force signatures at this transition, a clean change
from a ﬁxed signal to a quick and abrupt change is seen. It is
asymptotic to the transition boundary between the Approach
and Rotation states. However, when Yall deviations occur,
noisy signals are seen in the Approach state before the
transition condition is fulﬁlled. The behavior is identiﬁed
by looking at the average magnitude values in the Approach
state of both Fx and Fz.
2) Training: During training, three statistical parameters
were computed for exemplars x
k
of successful and unsuc-
cessful tasks: (i) The Mean Averaged Value  x: it is the
3373
mean value of all training example averaged magnitudes or
maximumamplitudes;(ii)TheUpperandLowerBoundaries:
that is the maximum exemplar average value ( x
max
) and
the minimum exemplar average value ( x
min
). Note that
the exemplar for an individual trial already represents an
averaged quantity, either of magnitudes or amplitudes, but
the training average is of exemplars over a number of trials.
Theaveragevalueforexemplarsinthetrainingphaseisshow
in Eqtn. 1.
 x=
1
n
n
∑
i=1
x
i
, (1)
Additionally, if  is deﬁned as the set of all exemplars in
the training phase, then the maximum value x
max
for all
exemplar averages  x and the minimum value x
min
is deﬁned
according to Eqtn. 2,
 x
max
=max
i?
 x
i
and  x
min
=min
i?
 x
i
. (2)
3) Testing: Once the statistical measures were generated,
the testing of new trials with deviations (in one, two, and
three directions) were executed. Testing was designed to
evaluate the system’s performance in (i) failure mode de-
tection, and (ii) correlation of failure detection results as a
reliability measure. For the latter, we look at wether one or
more exemplars were ﬂagged, and if so, do they fall within
the computed statistical measurements derived for them in
thetrainingphase.Thislaststepcorrelatesanexemplarvalue
with averages computed during training. It’s a reliability
measure that informs whether the failure mode detection was
a false-positives or not.
V. RESULTS AND ANALYSIS
Using the experimental setup described in II, a series of
successfulandfailedcantileverassemblytaskswereassessed
using a supervised approach. A training phase was used
to compute statistical parameters while a testing phase was
used to assess the accuracy of the failure and failure mode
detection.
A. Training
In the ﬁrst part of training, six trials for successful assem-
blies were run and their average exemplar values computed
along with their upper and lower bounds. The results are
shown in Fig. 3. The statistical values are used to identify
failureduringtesting.Thatis,ifanexemplaraveragevalueis
within the bounds of Fig. 6, it is within range of successful
cases and thus ﬂagged as a non-failure. Each of the ﬁve
exemplars is analyzed independently. In the second part of
training,20trialswererun.Deviationswereintroducedtothe
nominal Approach State motion ([9]) in one of three possible
directions as stated in Sec. IV-D.2. An effort was made to
have good data coverage so as to aid the generalizability
of the algorithm in the testing phase. Out of the twenty
trials, twelve of these included deviations 1 direction (4
in +x, 2 in +y, 2 in ?y, 2 in +?, and 2 in ??, six
included deviations in 2 directions (2 for x,y-deviations, 2
for x-? deviations, and 2 for y-?, and two trials included
Average Max
Min
MyRot 0.32 0.41 0.22
FzRot 10.50 13.65 7.35
y MzRot 0.16 0.21 0.11
FxApp 1.86 2.42 1.30
FzApp -1.26 -1.63 -0.88
Statistics
x
?
Fig. 3. Successful case exemplars: average values for selected exemplars
along with maximum and minimum values.
Training Trials Deviation Summary
∆x ∆'y ∆?
0.0074 0.0097 0.2345
0.0080 0.0104 0.3333
0.0089 -0.0086 -0.4793
0.0101 -0.0092 -0.5066
∆x,∆y ∆x,∆? ∆y,∆?
0.0087, -0.0078 0.0077, 0.2087 0.0075,0.2673
0.0100, 0.0090 0.0081,-0.3311 -0.0079,0.2812
∆x,∆y,∆?
0.0083,0.0075,0.17
0.0085, 0.0085, 0.1848
Fig. 4. Training Divergence Directions and Magnitudes in 20 trials: 12
trials test deviations in 1-direction (x, y, ?,), 6 trials test deviations in 2-
directions, and 2 trials test deviations in 3-directions.
deviations in three directions. For success cases, six trials
were used. Training trial’s deviations are shown in Fig.
4.The summary of trials with trajectory motion deviation’s
are shown in Fig. 4. Exemplar averages, lower and upper
boundswerecomputedforthesetrials.Atthisstagewenoted
that the Fx.App.AvgMag exemplar values were composed of
both positive and negative quantities. These quantities can-
celledeachotherduringaveragingandaffectedclassiﬁcation.
Hence, the exemplar was subdivided into a positive version
(Fx.App.AvgMag.Pos & Fz.App.AvgMag.Pos) and a nega-
tive version (Fx.App.AvgMag.Min & Fz.App.AvgMag.Min).
Both still inform about the Yall axis deviation, but the
valency separation now gives information about the de-
viation direction. Results are shown in Fig. 5. Note that
average values between failure case exemplars and suc-
cessful ones are markedly different and ratify their use
for classiﬁcation. The ratio of average-success value to
average-failure value for the seven exemplars is as follows:
?0.71,1.24,0.45,2.73,?1.05,?1.38,?0.29?. With regards
MyRot FzRot MzRotPos FxApp FzApp FxApp FzApp
Average 0.45 8.48 0.36 0.68 1.19 -1.35 4.38
Max 0.68 11.24 1.37 1.28 2.87 -0.56 8.82
Min 0.33 6.39 0.10 0.03 -0.92 -3.69 2.09
maxRatio 1.51 1.33 3.80 1.87 2.41 0.41 2.01
minRatio 0.73 0.75 0.29 0.04 -0.77 2.74 0.48
x y
?
Positive Negative Statistics
Fig.5. TrainingCaseStatistics:theaveragevaluesoveralltrainingtrialsfor
theﬁve(sevenwithasub-divisionofexemplarsfor?)areshown,alongwith
maximum and minim recorded values that are used to compute maximum
and minimum bounds for testing cases.
3374
+x +y -y +?
0.0075 0.0075 -0.0075 0.1745
0.0085 0.0085 -0.0085 0.3490
0.0095 0.0095 -0.0095 0.5235
0.0105 0.0105 -0.0105
-? x,y x,? y,?
-0.1745 0.0073,0.0081 0.0081, 0.2812 0.0083, 0.1826
-0.3490 0.0092,0.0102 0.0097, -0.1800 0.0088, 0.1809
-0.5235 0.0085,-0.0081 0.0077, 0.4073 -0.0094, 0.1901
0.0077, -0.0100 0.0100,-0.3199 -0.0083, -0.3283
0.0080, 0.0081, 0.2169
0.0080, 0.0081, 0.3087 0.0083, 0.0079, -0.3894
0.0082, 0.0077, 0.3894
x,y,?
Fig. 6. Testing Divergence Directions and Magnitudes in 32 trials: 18
trials test deviations in 1-direction (x, y, ?,), 12 trials test deviations in
2-directions, and 4 trials test deviations in 3-directions.
to upper bound variation, the latter was large across exem-
plars. For Mz.Rot.AvgAmp, upper bound values averaged
amplitudes upto 3.8 times the mean value. This result sheds
light on the large force-contact value variation that exists
in the ±y-directions as a result of intricate geometry within
snap parts (and which is originally designed to facilitate the
assembly).
B. Testing
In the testing phase, 32 trials were used to evaluate the
accuracy and generalizability of the FC scheme. From the
32 trials, 18 considered deviations in 1-direction, 12 consid-
ered deviations in 2-directions, and 4 considered deviations
in 3-directions. The testing trials and their corresponding
deviations are shown in Fig. 6 (all deviations were within
the bounds introduced in Sec. IV-C). We now present the
system’seffectivenessindetectingdeviation-speciﬁcfailures,
correlation modes, and false positives. In Fig. 7, two tables
are presented. Both correspond to testing trials organized by
deviation directions and by exemplar classiﬁcation (Exem-
plars 1-5 refer to those introduced in Fig. 2). On the top
side, the table records: (i) Correct diagnostic’s percentage
for individual exemplars and (ii) two evaluation measures
for the overall combined effect of multiple exemplars. On
the bottom side, the table records the percentage of failed
exemplarsthatwereabletobecorrelated.Toclarify,consider
an assembly where there were deviations in the x- and y-
directions, and in which My.Rot.AvgMag, Fz.Rot.AvgMag,
andMz.Rot.AvgAmpwereﬂagged.Wethenconsiderifthese
exemplar’s average values fell within the bounds derived
during training? If so, we state that these exemplars are cor-
related and have a more reliable measure that the exemplars
are not false-positive’s.
C. Analysis
The analysis section studies failure detection and failure
modes on three levels: (i) Individual Deviation Analysis:
which exemplars did better when a given deviation was
enacted?; (ii) Individual Exemplar Analysis: how did a
given exemplar do across different deviations subgroups; and
(iii) Output Computation Analysis: a study of the overall
combined effect of exemplars for a given deviation.
1) Failure Detection: The ﬁrst analysis, Individual De-
viation Analysis, consists in taking the: x, y, ?, xy, x?,
x?, and x,y,? deviations as separate subgroups and detect
which exemplars have the most salient features for a given
deviation. It can be considered a row-by-row analysis and
whose main points are highlighted below:
x My.Rot.AvgMag was more consistent than
Fz.Rot.AvgMag and was 100% accurate.
y Mz.Rot.AvgAmp was very effective at 88%.
? Exemplars 4 and 5 performed similarly.
x,y Fz.Rot.AvgMag was accurate 100% of the time.
x,? Fz.Rot.AvgMag was not effective compared to xy
deviations. Fz.App.AvgMag was more effective than
Fx.App.AvgMag and tended to be so in general.
y,? Mz.Rot.AvgAmp and Fz.App.AvgMag were 100% ac-
curate and Fz.App.AvgMag did well 75% of the time.
x,y,? Mz.Rot.AvgAmp performed poorly because with devia-
tions in x and ? forces originally experienced in y due
to internal friction cannot be reached.
The second analysis, Individual Exemplar Analysis, consists
in looking at an individual exemplar across all deviation sub-
groups. It can be considered a column-by-column analysis
whose main points are highlighted below:
• My.Rot.AvgMag was the most effective exemplar hav-
ing an efﬁciency of 88% across all subgroups.
• Exemplar 1,4,5 were correct over 75% of the time.
• Mz.Rot.AvgAmp is low but deceptive due to involve-
ment in x,y,?. Otherwise the average would be 88%.
The third analysis, Output Computation Analysis, looks
at two approaches for modeling the exemplars combined
Explr1 Explr2 Explr3 Explr4 Explr5 Comb Max
X 100% 50% 75% 100%
Y 88% 88% 88%
? 83% 83% 83% 83%
X,Y 75% 100% 75% 83% 88%
X,? 75% 50% 50% 75% 63% 75%
Y,? 100% 100% 75% 92% 100%
X,Y,? 100% 75% 50% 75% 100% 80% 83%
Avg 88% 69% 78% 77% 83% 80% 88%
Crl 1 Crl2 Crl 3 Crl 4 Crl 5 Comb Max
X 100% 50% 75% 100%
Y 75% 75% 75%
? 83% 83% 83% 83%
X,Y 75% 100% 25% 67% 63%
X,? 75% 50% 50% 75% 63% 75%
Y,? 50% 50% 75% 58% 63%
X,Y,? 75% 75% 25% 50% 50% 55% 50%
Avg 81% 69% 44% 58% 71% 68% 81%
Fig. 7. Testing Phase Results: On the top table accuracy percentages for
failuredetectionbydeviationsubgroupsareshown.Onthebottom,accuracy
percentages for correlation detection, that is, the number of times exemplars
identiﬁed with failure detection were corroborated by statistical measures
akin to that type of fault.
3375
effect: (i) the Combination Output Measurement and (ii) the
MaximumValueOutputMeasurement.Theformerapproach,
considers one deviation with multiple exemplars and takes
the exemplar’s average value. I.e. , for deviation x,y,?
the approach averages the ﬁve exemplar values. The latter
approach, looks at a deviation subgroup and ﬁrst ﬁnds
exemplarpairsthatdescribedeviationinonedirection,itthen
computes their maximum value (i.e. My.Rot.AvgMag and
Fz.Rot.AvgMag, or Fx.App.AvgMag and Fz.App.AvgMag);
and ﬁnally, it averages the paired exemplar’s values with the
remaining exemplars. i.e. , for deviation x,y,? we compute
the maximum value of two pairs of exemplars: 1 & 2 and
4&5. Then exemplar 3 is averaged with the maximum value
of both pairs. The Maximum Value Output Measurement has
overall higher rates than the Combination Output Measure-
ment. It assumes that only the best exemplar that character-
izes a deviation is needed, not both. In our results, we see
thatdeviationsinthex?andy,Yalldirections,werecorrectly
identiﬁed 100% of the time. The Combination Measurement
has similar patterns but with lower percentages.
Nofalse-positiveswererecorded.Allfailurecasescenarios
were detected correctly.
2) Failure Correlation: This section analyzes failure cor-
relation modes. It determines failure correlation mode per-
formance by evaluating how well detected failed exemplars
could be correlated with their corresponding statistical mea-
sures. Our analysis shows that failure mode correlation is
more difﬁcult than failure detection. Failure detection only
detects exemplar values outside corresponding successful
statisticalrangeswhilecorrelationrequiresthatfailurevalues
fall within bounds of corresponding statistical ranges. Our
analysis also shows that as deviations are introduced in more
axes, there is more variability in the failed exemplar’s value
range. As in Sec. V-C.1, we perform the same three types
of analysis.
For Individual Deviation Analysis, 1-deviation subgroups
scored higher than 2- or 3-deviations groups. Similarly, 2-
deviationsgroupsscoredhigherthanthosewith3-deviations.
For 1-deviation subgroups, x and Yall were better correlated
than y. For 2-deviations groups, y,Yall was the worst. Again,
the data points show that when the male part is moved
in the x? or Yall directions, the force signals in y that
originate from internal horizontal friction disappear. This
is further corroborated in the x,y,Yall subgroup in which
Mz.Rot.AvgAmp was correlated only 25% of the time.
For Individual Exemplar Analysis, My.Rot.AvgMag (x-
dir.) was the best, Mz.Rot.AvgAmp (y-dir.) the worst, and
with Fx.App.AvgMag and Fz.App.AvgMag accuracy dimin-
ishes as more deviations are introduced.
For Output Computation Analysis, the Yall direction had
the highest results. y,Yall and x,y,Yall had the lowest results
due to the negative contribution from the y-deviation. Now,
if the y-correlation were removed, accuracy levels would
go up to 67%. And as stated earlier, the tendency is to
have better correlation for 1-deviation groups than for 2-
or 3-deviation groups. One interesting measure for data
spread is shown by taking the ratio between the standard
deviation’s mean value and the average exemplar value’s
mean. In this case, Mz.Rot.AvgAmp (y-dir) had a 1.15 ratio,
andFz.App.AvgMaghada1.25ratio,whileMy.Rot.AvgMag
and Fz.Rot.AvgMag had ratios of 0.15 and 0.14 respectively.
Thisratioprovidesinsightintothewidespreadofdataacross
Mz.Rot.AvgAmp and Fz.App.AvgMag.
The problem of decreasing correlation accuracy however,
couldbeaddressedbycomputingmeansandupperandlower
bounds not just for an exemplar across all deviation sub-
groups but for more localized means and bounds associated
with each of the subgroups.
3) Averages and Std. Deviations: 3) The ﬁnal analysis
looks at the average values and standard deviations of
exemplars within deviation subgroups. The data is seen in
Fig. 8 The following trends were noted: for Mz.Rot.AvgAmp
values for all subgroups (except deviation in the y-direction)
hadsimilarmagnitudesvaluesassuccesscases.Thisexplains
the system’s inability to correlate with these values. Also,
for tasks that exhibit purely y-direction deviation’s, the
mean values are much larger. And, Fx.App.AvgMag.Pos
has comparatively low values for Yall compared to other
deviation subgroups. Exemplars across x,Yall and x,y,Yall
and also for y,Yall, and x,y,Yall all share closely cor-
related values. Fz.App.AvgMag.Min has similar value for
Yall and y,Yall but not x,y,Yall. Fz.App.AvgMag.Pos has
similar values for x,y,Yall and y,Yall but not for x,Yall.
Finally, Fx.App.AvgMag.Min has similar values for y,Yall
and x,y,Yall but not for Yall. Hence, contextualizing means
and bounds by training them for the speciﬁc sub-groups
may increase failure detection and failure mode detection
signiﬁcantly.
VI. DISCUSSION
Our work demonstrates that early FC was implemented
with modest success for cantilever snap assemblies based
on the PA approach and the RCBHT system as 88% of
cases were correctly detected. Failure correlation modes
were detected with varying degrees of success; ranging
from more accurate detection for cases in which only one
deviation existed (86% accuracy) to lower accuracy as the
deviation number increased for trajectory motions (67% for
2-deviations and 55% for 3-deviations).
We were also interested in understanding if by discovering
exemplars corresponding to 1-deviation directions we could
then superpose deviation directions and expect the same
exemplar statistical measures to capture failure. To this end,
it seems that deviations in the x and Yall directions did
better than the y direction. This was specially true when
y-deviations were combined with x-deviations. The reason
was clear. Upon, diverging in the forward x-direction, the
snap parts would no longer be in position to exert the same
friction patterns due to hardware geometry conﬁguration that
are possible when both parts are spliced.
This work is unique as it allows the early stage FC of snap
parts with complex geometry. By combining the PA strategy
3376
Axis Stat MyRot FzRot Axis MzRot Axis FxAppP FzAppP FxAppM FzAppM
Avg 0.55 9.54 0.43 0.61 0.32 -2.41 4.22
Dev 0.04 0.97 0.43 0.64 1.45 0.02 0.54
Avg 0.47 8.05 0.17 1.40 1.56
Dev 0.07 0.41 0.09 0.39 0.79
Avg 0.47 8.83 0.16 1.09 0.88 -0.42 6.58
Dev 0.06 1.29 0.08 0.15 0.94 0.00 0.00
Avg 0.52 8.21 0.16 1.01 0.95 -0.52 0.47
Dev 0.08 1.32 0.08 0.32 0.81 0.00 0.00
y,?
x,y,?
?
x,?
y,?
x,y,?
x
x,y
x,?
x,y,?
y
x,y
Fig. 8. Exemplar average values and standard deviations for deviation subgroups during testing.
with the snap veriﬁcation RCBHT system and the current
FC scheme, promising results were obtained in correctly
characterizing failure and corresponding failure modes. Our
work like those of [6] and [7] work not only on failure
detection but also on characterizing failure modes. In our
work, due to the geometrical complexity of the parts, the
number of exemplars and possible recovery strategies are
more numerous.
The overall strength of the approach is the identiﬁcation
of key parameters to characterize failure. The approach is
ﬂexible enough that it can be reﬁned: both by computing
morecontextualizedexemplarsbasedondeviationsubgroups
and by employing more advanced classiﬁcation methods.
The approach also does not suffer from the curse of di-
mensionality as its based on a linear computation of mean
values and upper and lower bounds. And while the approach
performed relatively well with a limited set of coverage
points, a more robust set of data should be explored and
tested. It is not yet clear if an exhaustive coverage process
wouldbedesirabletodesignfailurerecoverymethodsinsnap
assemblies and similar tasks due to time costs and potential
equipment damage in the process.
As par of our future work we will explore the con-
textualization of means and bounds by further subdividing
exemplars across deviation groups. We will also explore
better classiﬁcation algorithms and probabilistic learning and
use this work for actual failure recovery at a later time.
VII. CONCLUSION
In conclusion, a novel early failure detection scheme was
implementedforcantileversnapassemblies.Snapassemblies
are challenging due to elastic components and complex
geometricconﬁgurations.Themethodisabletoprovideearly
identiﬁcation of situations in which the trajectory motion
of an assembly has been deviated from normal cases. We
identiﬁed not only what types of failure occurred but we also
correlated them with historic statistical data to obtain relia-
bility measures for the detected failures. This information is
signiﬁcant in order to implement failure recovery schemes at
a later time.
REFERENCES
[1] A. Willsky, “A survey of design methods for failure detection in
dynamic systems,” Automatica, vol. 12, no. 6, p. 601:611, 1976.
[2] A. Rodriguez, D. Bourne, M. Mason, G. F. Rossano, and J. Wang,
“Failure detection in assembly: Force signature analysis,” in IEEE
Conference on Automation Science and Engineering, 2010.
[3] R. A. Brooks, “Symbolic error analysis and robot planning,” The
International Journal of Robotics Research, vol. 1, no. 4, pp. 29–78,
1982.
[4] D. M. Fullmer, “Parts assembly using signature analysis,” US Patent
4,855,923, Aug. 1989.
[5] S. Cho, S. Asfour, A. Onar, and N. Kaundinya, “Tool breakage
detection using support vector machine learning in a milling process,”
International Journal of Machine Tools and Manufacture, vol. 45,
no. 3, pp. 241–249, 2005.
[6] Y.-W. Hsueh and C.-Y. Yang, “Prediction of tool breakage in face
milling using support vector machine,” The International Journal of
Advanced Manufacturing Technology, vol. 37, no. 9-10, pp. 872–880,
2008.
[7] K.Althoefer,B.Lara,Y.H.Zweiri,andL.D.Seneviratne,“Automated
failureclassiﬁcationforassemblywithself-tappingthreadedfastenings
using artiﬁcial neural networks,” Proceedings of the Institution of
Mechanical Engineers, Part C: Journal of Mechanical Engineering
Science, vol. 222, no. 6, pp. 1081–1095, 2008. [Online]. Available:
http://pic.sagepub.com/content/222/6/1081.abstract
[8] R. Soddhi and M. Sonnenberg, “Use of snap-ﬁt fasteners in the multi-
life-cycle design of products,” in IEEE Intl. Symp. on Electr. & Env.,
1999.
[9] J. Rojas, K. Harada, H. Onda, N. Yamanobe, E. Yoshida, K. Na-
gata, and Y. Kawai, “Cantilever snap assembly automation using a
constraint-based pivot approach,” in IEEE Intl. Conf. on Mechatr. &
Automation, 2012.
[10] ——, “A relative-change-based hierarchical taxonomy for cantilever-
snapassemblyveriﬁcation,”in IEEE Intl Conf. on Robots and Systems,
2012.
[11] ——, “Probabilistic state veriﬁcation for snap assemblies using the
relative-change-based hierarchical taxonomy (in-print),” in IEEE-RAS
Intl. Conf. on Humanoid Robots, 2012.
[12] ——, “Gradient calibration for the rcbht cantilever snap veriﬁcation
system.”in IEEE Int’l Conference on Robotics and Biomimetics,2012.
[13] ——, “Towards snap sensing,” International Journal of Mechatronics
and Automation, vol. 3, no. 2, pp. 69–93, 2013.
[14] W. Meeussen, J. Rutgeerts, K. Gadeyne, H. Bruyninckx, and J. D.
Schutter, “Contact-state segmentation using particle ﬁlters for pro-
gramming by human demonstration in compliant-motion tasks,” IEEE
Trans. on Robotics, vol. 23, no. 2, pp. 218–231, 2007.
[15] F. Kanehiro, H. Hirukawana, and S. Kajita, “Openhrp: Open architec-
ture humanoid robotics platform,” Intl. J. of Robotics Res., vol. 23,
no. 2, pp. 155–165, 2004.
[16] E. Lopez-Mellado and R. Alami, “A failure recovery scheme for
assemblyworkcells,”in Robotics and Automation, 1990. Proceedings.,
1990 IEEE International Conference on. IEEE, 1990, pp. 702–707.
3377
