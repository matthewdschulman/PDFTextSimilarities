  
? 
Abstract— In this paper, we describe design and development 
of a 3-axis proportional-integral-derivative (PID) controller for 
a holonomic precision inchworm robot. The mechanism has two 
Y-shaped electromagnets and six piezoelectric actuators (PAs) 
for obtaining 3-degrees-of-freedom (3DoF) motion on 
well-polished ferromagnetic surfaces. To measure its 3DoF 
position simultaneously, an integrated 3DoF inner position 
sensor composed of 4 linear encoders are developed. In 
experiments, we have checked that this arrangement of the 
encoders is valid for measuring the 3DoF motion under a 
condition without disturbance. To be robust against the 
disturbance, we also discuss requirement of an acceleration 
feedforward controller with 3 motion sensors to detect 
disturbance and slips of supporting electromagnet. This paper is 
first article which demonstrates simultaneous 3-axis PID control 
with nanometer-scale positioning resolution of miniature mobile 
robot driven by PAs. We also discuss about the future direction 
of the realization of compact, precise, fast, flexible, and 
energy-efficient mobile robotic factory. 
I. INTRODUCTION 
Recently, wheeled mobile mechanisms are widely used in 
transportation robots [1]. In most cases, the mechanisms have 
various sensors for monitoring their internal state. They have 
rotary encoders which are attached to their motors to change 
their moving directions and velocities via controlling 
rotational speed of wheels. They also have motion sensors for 
monitoring outer vibrations and disturbance. Recently, 
MEMS motion sensors are widely attached in various 
transportation devices, such as smart phones, hard-disks, 
CCD-cameras, and cars because they are very compact, e.g. 5 
x 5 x 1mm; it is easy to attach on them. In most case, the 
acceleration and angular velocity sensors are packaged into 
one MEMS chip. An acceleration feedforward (FF) controller 
with the MEMS motion sensors is widely used to measure 
outer vibrations for those transportation devices [2, 3]. On the 
other hand, there are many multi-axial linear stages inside 
production equipment [4]. In most cases, we use only linear 
encoders for measuring their position. In most cases, 
commercially available 3-axial linear stages with 50 cm
2
 and 
360° of positioning ranges are around 100 kg, although 
widely-used chip parts are less than 1mg. Because of their 
 
*This research had been supported by Adaptable and Seamless 
Technology Transfer Program through Target-driven R&D (A-Step), FS 
Exploratory Research. 
O. Fuchiwaki is Dept. of Mechanical Engin. with the Yokohama National 
Univ., 1-79 Tokiwadai, Hodogaya-ku, Yokohama, Kanagawa, Japan (phone: 
+81-45-339-3693; fax: +81-45-339-3693; e-mail: ohmif@ynu.ac.jp).  
M. Yatsurugi is with the Honda Motor Co. 
A. Akio is with the Dept. of Mechanical Engineering, Yokohama National 
University (YNU).  
T. Higuchi is Dept. of Ocean Engin. and Ecosystem Science Systems with 
the Yokohama National Univ., 1-79 Tokiwadai, Hodogaya-ku, Yokohama, 
Kanagawa, Japan (e-mail: higuchi@ynu.ac.jp). 
heavy-weight, the production equipment requires too much 
power to carry the tiny parts and brings too large inertia force. 
That large inertia force generates big vibration around the 
equipment. To minimize and damp the big vibration, we need 
to make factory's floors rigid and attach expensive 
anti-vibration devices. Recently, there are some research 
activities about miniature precise mobile robots driven by 
piezoelectric actuators (PAs) [5-10]. They have 3DoF 
holonomic motion and their weight is less than 100g. That 
lightweight is very effective for reduction of space and energy. 
However, it is difficult to attach inner sensors to them because 
they are very small. That is why their measuring methods are 
limited to only "outer" sensors thus far, i.e. combination of 
CCD-camera for global navigation and microscopic image for 
precise positioning [5, 8]. Visual feedback (FB) method used 
by microscopic image cannot realize both of wide measuring 
area and high measurement resolution. If we get high 
resolution, the measuring area becomes narrow. Besides, 
when we use only those outer sensors, we cannot control them 
fast enough to use them high-speed productive applications, 
such as pick and place of the chip parts. We should add inner 
sensors to improve their positioning speed and accuracy 
because the inner sensors have both of high measuring speed 
and resolution enough to measure outer and inner disturbance 
in most cases. We also need take into account a disturbance 
generated by slips of their supporting legs [11, 12]. In previous 
report, we have described that design of an integrated 3DoF 
inner position sensor composed of 4 linear encoders to control 
our holonomic inchworm robot precisely in x, y, and ? axes 
simultaneously. We have also solved theoretical fastest 2DoF 
positioning signals under the condition of no disturbance used 
by bang-bang control method [13]. In this paper, we report 
about a modeling and primary experiment of a 3-axis 
simultaneous PID control and discuss further design of 
dynamical and precise control method by adding the motion 
sensors. In chapter 2, we summarize the modeling method of 
our mechanism. In chapter 3, we explain design and 
measuring principle of the 3DoF inner position sensor. In 
chapter 4, we demonstrate proportional-integral-derivative 
(PID) control in 3-axis with 50 nm resolution to check the 
validity of the developed 3DoF position sensor. This article is 
first paper showing experimental results of simultaneous 
3-axis PID control for the miniature mobile robots with 
nanometer-scale resolution. In chapter 4, we discuss 
requirement of the acceleration FF controller with motion 
sensors to measure external vibration. We also explain 
arrangement of the motion sensors and how to detect the slips. 
These contributions are paid for getting higher positioning 
accuracy of the robot to realize compact, flexible, fast, and 
precise robotic factory. 
Modeling and Primary Experiment of a 3-axis PID Control with  
50 nm resolution for a Holonomic Precision Inchworm Robot* 
M. Yatsurugi, A. Oi, O. Fuchiwaki, Member, IEEE, T. Higuchi 
2014 IEEE International Conference on Robotics & Automation (ICRA)
Hong Kong Convention and Exhibition Center
May 31 - June 7, 2014. Hong Kong, China
978-1-4799-3684-7/14/$31.00 ©2014 IEEE 2552
  
Straight motion 
in any direction 
Fig. 4. Motion patterns 
? 
R 
(x, y) 
Rotation around any point 
II. 3DOF INCHWORM MECHANISM 
A.  Structure and performance 
Fig. 1 shows the structure of the mechanism. EM-1 and EM-2 
are two Y-shaped electromagnets (EMs) that are separate to 
avoid attracting each other. These Y-shaped EMs make a 
closed loop via a ferromagnetic surface to obtain enough 
magnetic force. PZT-F, PZT-B, PZT-L1, PZT-L2, PZT-R1, 
and PZT-R2 are the six PAs. We arrange EM-1 and EM-2 to 
cross each other and connect to the six PAs so that the 
mechanism can precisely move in any direction by the 
inchworm principle. Fig. 2 shows a photograph of the 
mechanism. The mechanism is 100 g, 86 mm in length and 
width, and 11 mm in height. The mechanism has parallel leaf 
springs for smooth contact of all the legs on the surface 
simultaneously. Table 1 shows the typical performance of the 
mechanism. We used APA50XS “Moonie” PAs (Cedrat Inc.) 
connected in a series. Table 2 shows the typical performance 
of the PAs. Fig. 3 shows the motion sequence of orthogonal  
TABLE II 
PERFORMANCE OF THE PIEZOELECTRIC ACTUATORS 
Quantity  
Displacement (100 V) 95.5 ± 5 ?m 
Generative Force (100 V) 18.0 N 
Spring constant 115,000 N/m 
Capacitance 1.04 ?F 
Resolution (15-25ºC, Less than 50% rH) 1.52 nm 
Natural Frequency (blocked free) 1.45 kHz 
Height x Thickness x Length 12.9 x 6.4 x 9.2 mm 
Weight 4 g 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
motions in the x-axis. This mechanism moves like an 
inchworm while retaining the synchronism among the 
rectangular-shaped forces of the two EMs and vibrations of 
the six PAs. This mechanism enables the robot to move 
precisely in any 3DoF motion with a resolution of better than 
10 nm by changing the amplitude of the vibrations. As shown 
in Fig. 4, the mechanism moves straight in any direction and 
rotates around any point precisely. This small mechanism 
moves flexibly and widely on well-polished ferromagnetic 
surfaces. Note that a minimum step width of the inchworm 
motion is around 100 nm as shown in Table 1 because of a 
disturbance generated by switching of the EMs. However, 
when we keep one EM fixed to the floor, we have checked that 
the other can be positioned precisely better than 10 nm of the 
resolution from experiments because the lower limit of the 
resolution is determined 1.52 nm of the PA’s resolution under 
the condition listed in table 2. 
B.  3DoF Dynamic model 
As depicted in fig. 5, we define the 3DoF dynamic model 
of the mechanism when EM-2 is free and EM-1 is fixed. Here, 
k
L
 and k
S
 are the spring constants of the six PAs in 
compression and shear deformations, respectively. c
S
 is the 
damping constant of the actuators in shear deformation. d
F
 is 
the enforced displacement of the piezoelectric actuator of 
PZT-F, and d
B
, d
R1
, d
R2
, d
L1
, and d
L2
 are similarly defined. We 
assume that EM-1 and EM-2 are rigid bodies. EM-1 and EM-2 
are connected by hinged joints at P
1
, P
2
, and P
3
. O
1
, O
2
, and O
3
 
are the initial positions of P
1
, P
2
, and P
3
, respectively.  x
1
 and 
y
1
 are coordinates of P
1
; x
2
 and y
2
 and x
3
, and y
3
 similarly 
define P
2
 and P
3
, respectively. P
G1
 is the center of gravity of 
EM-1. The position of P
G1
 is represented by an orthogonal 
coordinate system used by x
G1
 and y
G1
, and P
G2
 is similarly 
defined by x
G2
 and y
G2
. O
G1
 is the origin point of P
G1
. The six 
PAs move P
1
, P
2
, and P
3
. 3DoF motion of EM-2 is determined 
by the positions of P
1
, P
2
, and P
3
; thus, the PAs move the free 
leg, EM-2.  
 
??? 
 is a frictional force vector acting on EM-1 from 
the floor surface. F
x
 and F
y
 are coordinates of  
 
??? 
 in the X- and 
Y-axes, respectively. N
f
 is the moment of force acting on EM-1 
from the frictional force. m is defined as each of the mass of 
EM-1 and EM-2. I is defined as each of the moment of inertia 
of EM-1 and EM-2 about their own gravity centers. r is  
 
TABLE I 
PERFORMANCE OF THE INCHWORM MOBILE MECHANISM 
Quantity  
Step length (120 V) 0.1~62 ?m 
Resolution (15-25ºC, Less than 50% rH) Better than 10 nm 
DoF X,Y, ? 
Natural Frequency (blocked free) 500~600 Hz 
Maximum Velocity (Frequency) ~5 mm/s (100Hz) 
Repeatability (CV; Ratio of SD of positioning 
error to a path length) (Frequency) 
~1% (100Hz) 
Thrust force 1.5 N 
Pay load 150 g 
Height x Thickness x Length 86 x 86 x 15 mm 
Weight 100 g 
Fig. 1.  Structure of the 3DoF inchworm mechanism 
(top) view) 
PZT-F 
PZT-B 
EM-2 
PZT-L1 
Y-shaped electromagnet 
(EM-1) 
 
PZT-R2 
Parallel leaf spring 
Coil 
PZT-L2 
PZT-R1 
Parallel leaf 
spring  
<Perspective side view> 
 
11mm 
86 mm 
Pair of APA50XS “Moonie” piezoelectric actuator connected in series 
Fig. 2 Photograph of the omnidirectional mechanism 
Fig. 3. Principle of inchworm motion (rightward movement) 
x 
y 
2553
  
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
defined as a distance between mechanical center and an end 
of EM. When EM-1 is in static condition,  ?  
,  ?  
 and  
?  
 
are 0. From Fig. 5, Newton's equations of motion for EM-1 
and EM-2 in the x-, y-, and ?-axes are represented as, 
[
  ?  
  ?  
  
? 
] [
 
 
 
] [
 
 
 
 
 
 
]  ( 
 
  
 
)[
 
  
 
  
 
 
 
 
 
]   
 
[
 ?  
 ?  
 
 
 
 
? 
]
  
 
[
 
 
 
 
 
  
 
  
 
 
 
 
( 
  
  
  
  
  
  
  
)
√ 
 
(  
  
  
  
  
  
  
  
)
√ 
 
 (  
 
  
  
  
  
  
 
  
  
  
  
)
]
 
 
 
 
 
 
  
(1) 
[
  ?  
  ?  
  
? 
]   ( 
 
  
 
)[
 
  
 
  
 
 
 
 
 
]   
 
[
 ?  
 ?  
 
 
 
 
? 
]
  
 
[
 
 
 
 
 
  
 
  
 
 
 
 
( 
  
  
  
  
  
  
  
)
√ 
 
(  
  
  
  
  
  
  
  
)
√ 
 
 (  
 
  
 
  
  
  
  
  
  
  
  
)
]
 
 
 
 
 
 
  
(2) 
We define F
max
 as the maximum static frictional force 
between EM-1 and the floor surface as given by 
 
   
  (    
  
)  (3) 
Here, ? is the coefficient of static friction, and F
ad
 is the 
magnetic force between EM-1 and the surface. If the 
supporting leg of EM-1 is fixed to the surface, the sum of 
forces on EM-1 becomes zero, as shown in (1), and the 
absolute value of  
 
??? 
 requires following condition, 
| 
 
??? 
| √ 
 
 
  
 
 
  
   
. 
(4) 
C. State Space Representation 
We assumed that the displacements of the actuators are 
approximately proportional to their input voltages, which we 
defined as the proportional coefficient, h. Therefore, we can 
calculate the input voltage to the actuator, V(t), as follows: 
 ( ) 
[
 
 
 
 
 
 
 
( )
 
 
( )
 
  
( )
 
  
( )
 
  
( )
 
  
( )]
 
 
 
 
 
  
[
 
 
 
 
 
 
 
( )
 
 
( )
 
  
( )
 
  
( )
 
  
( )
 
  
( )]
 
 
 
 
 
  (5) 
We define control variable as u(t), that is input signals 
generated with a FPGA board (LabVIEW, PCIe-7852R 
LX50) as given by, 
 ( ) 
[
 
 
 
 
 
 
 
( )
 
 
( )
 
 
( )
 
 
( )
 
 
( )
 
 
( )]
 
 
 
 
 
 
[
 
 
 
 
 
 
 
( )
 
 
( )
 
  
( )
 
  
( )
 
  
( )
 
  
( )]
 
 
 
 
 
  (6) 
u(t) is amplified j-fold and added offset voltage of V
0
 with an 
amplifier, then becomes V(t) as, 
[
 
 
 
 
 
 
 
 
( )
 
 
( )
 
  
( )
 
  
( )
 
  
( )
 
  
( )]
 
 
 
 
 
 
  
[
 
 
 
 
 
 
 
( )
 
 
( )
 
  
( )
 
  
( )
 
  
( )
 
  
( )]
 
 
 
 
 
  
 
[
 
 
 
 
 
 
 
 
 
 
 
]
 
 
 
 
 
  (7) 
From (5) and (7), enforced displacement n(t) is described as, 
 ( ) 
[
 
 
 
 
 
 
 
( )
 
 
( )
 
  
( )
 
  
( )
 
  
( )
 
  
( )]
 
 
 
 
 
 
 
 
[
 
 
 
 
 
 
 
( )
 
 
( )
 
  
( )
 
  
( )
 
  
( )
 
  
( )]
 
 
 
 
 
 
 
 
 
[
 
 
 
 
 
 
 
 
 
 
 
]
 
 
 
 
 
  (8) 
By substituting (8) into (2), 
 ?( )   ( )   ( )  (9) 
(9) represents a state equation of the mechanism. Note that 
offset enforced displacement V
0
/h in (8) becomes 0 in (9) 
because 6 PAs cancel each other’s offset displacements out. 
We define x(t) and y(t) as state and control variables 
respectively. A and B are also defined as follows, 
 ( ) 
[
 
 
 
 
 
 
 
 
( )
 
 
( )
 
 
( )
 
 
( )
 
 
( )
 
 
( )]
 
 
 
 
 
 
 
[
 
 
 
 
 
 
 
  
( )
 
  
( )
 
  
( )
 ?  
( )
 ?  
( )
 
? 
( )]
 
 
 
 
 
 
 
[
 
 
 
 
 
 
 
 
( )
 
 
( )
 ( )
 ? 
( )
 ? 
( )
 
?( )]
 
 
 
 
 
 
  (10) 
 ( ) [
 
 
( )
 
 
( )
 
 
( )
]  (11) 
  
[
 
 
 
 
 
 
 
 
      
      
      
  ( 
 
  
 
)
 
  
   
 
 
  
 
  ( 
 
  
 
)
 
  
   
 
 
 
  
  ( 
 
   
 
) 
 
  
  
   
 
 
 
  
]
 
 
 
 
 
 
 
 
  (12) 
1
O
3
O
2
O
 
 
 
L
k
L
k
L
k
L
k
L
k
L
k
S
k
S
k
S
k
S
k
1 G
y
1 G
x
1
x
1
y
2
y
2
x
3
x
3
y
F
d
1 L
d
2 L
d
B
d
2 R
d
1 R
d
S
k
2 ? EM
1 ? EM
1 G
O
S
k
S
c
S
c
1
P
S
c
S
c
S
c
2
P
3
P
S
c
1 G
P
Fig. 5. 3DoF dynamic model 
Piezoelectric 
 actuator 
Enforced 
displacement 
Fix 
Fix 
Fix 
r 
2554
  
  
 
 
 
 
[
 
 
 
 
 
 
 
 
      
      
      
  
 
  
 
 
  
 
  
 
  
 
  
  
√ 
  
 
√ 
  
 
√ 
  
√ 
  
 
 
  
 
  
 
 
 
  
 
 
 
]
 
 
 
 
 
 
 
 
  (13) 
Output equation is represented by, 
 ( )   ( ) (14) 
Here, C is defined as given by, 
  [
      
      
      
]  (15) 
Because (15) does not have control variable of u(t), the 
proposed dynamical model is strictly proper. When we define 
initial value of state variables as x(0) and we take Laplace 
transform in (9) and (14), we can obtain these transfer 
function matrices of P
U
(s) and P
0
(s) as given by, 
 
 
( )  (  ( )  )
  
  
(16) 
 
 
( )  (  ( )  )
  
 (17) 
 ( )  
 
( ) ( )  
 
( ) ( )  (18) 
We omit the detailed representation of P
U
(s) and P
0
(s) due to 
limitations of space. Here, we define Laplace transform of 
x(t) as X(s). Laplace transform of other parameters is defined 
in a similar way. If we define d(t) as disturbance including 
outer vibration, block diagram representation of (18) as open 
loop control is shown in fig. 6. 
 
 
 
 
 
 
 
 
 
III. INTEGRATED 3DOF INNER POSITION SENSOR 
A. Design 
In Fig. 7, we show the design of an integrated 3DoF inner 
position sensor with four optical chip encoders 
(Mercury1540P, MicroE systems). These chip encoders have 
0.5µm resolution and a maximum measuring speed of 7.2m/s 
as listed in Table 3. These encoders measure the displacement 
of a sinusoidal vibration up to 120 kHz with its maximum 
amplitude of 100µm. Four chip encoders are fixed to EM-2, 
and their scales are fixed to EM-1. If one EM is fixed to the 
floor, the other’s motion is measured by the four encoders in 
the x-, y-, and ?-axes with 0.5µm resolution. 
B. Conversion of Measured Values to Control Variables 
We explained the measuring principle of the integrated 
3DoF inner position sensor in previous report [13], so we 
omit the detailed explanation and describe the outline. We 
define ?x, ?y, and ?? as measured displacement of the sensor.  
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
TABLE III 
PERFORMANCE OF THE CHIP ENCODER 
Quantity  
Resolution 0.5 ?m/count 
Maximum measuring speed 7200 mm/s 
Height x Thickness x Length 12.7 x 15.2 x 5.6 mm 
Weight 2.6 g 
To simplify the problem, we approximates ??<<1. Note that 
?x, ?y, and ?? are relative displacements between EMs. 
When we define four measured values of four encoders as Y
1
, 
X
2
, Y
3
, and X
4
. ?x, ?y, and ?? are represented by, 
[
  ( )
  ( )
  ( )
]    ( ). (19) 
 ( ) [
 
 
( )
 
 
( )
 
 
( )
 
 
( )
] (20) 
  
[
 
 
 
 
  
 
 
 
 
 
 
 
 
 
 
 
 
  
 
 
  
 
 
  
 
  
]
 
 
 
 
 
 (21) 
 
 
( )  
 
( )  
 
( )  
 
( )   (22) 
When EM-1 with the scales is fixed and the EM-2 with the 
encoders is movable, ± of sign in (19) is plus. Conversely, the 
EM-2 is fixed and EM-1 is movable, the sign is minus. Note 
that ?? is represented as best estimator, 
  ( ) 
 
 
(  
 
( )   
 
( )), (23) 
because   ( ) can be calculated by the following two 
equations, 
U(s) 
? ? (? ) 
+ 
+ 
? (? ) 
? ? (? ) 
? ( ) 
D(s) 
+ 
+ 
Fig. 6. Block diagram with open-loop control 
control 
EM-1 
Optical encoders  
fixed to EM-2 
Glass scales  
fixed to EM-1 
3DoF inchworm 
 mobile mechanism 
Piezoelectric actuators 
Parallel leaf springs 
EM-2 
Fig. 7. Assembly drawing 
Housing 
Connector substrate 
for 4 linear encoders 
Connector substrate 
for 6 actuators and 
 2 electromagnets 
Integrated 3DoF 
position sensor 
2555
  
  
 
( ) 
 
  
( 
 
  
 
), (24) 
  
 
( ) 
 
  
(  
 
  
 
). (25) 
 (22) represents relationship among Y
1
, X
2
, Y
3
, and X
4
. 
Because 3DoF of the mechanism is measured by four 
encoders, there must be one relationship among four 
measured values of (22). If there are no outer vibrations and 
disturbance, fixed EM and the floor are completely resting 
state on a coordinate system at rest. Under that ideal condition 
and when EM-1 is fixed, control variables equal to ?x, ?y, and 
?? as given by, 
 ( ) [
 
 
( )
 
 
( )
 
 
( )
] [
 
  
( )
 
  
( )
 
  
( )
] [
  ( )
  ( )
  ( )
]. (26) 
 ( )   ( ) (27) 
IV. 3-AXIS PID CONTROL 
A. Experimental setup 
To confirm the feasibility of the proposed integrated 3DoF 
inner position sensor, we developed 3DoF “outer” position 
sensor which has better measurement resolution of 0.05?m 
than that of the inner sensors with the same arrangement of 
the encoders as shown in Figs. 8 and 9. In this experiment, we 
measured the displacement of the free leg with optical linear 
encoders (MicroE Systems Inc., Mercury3500) fixed to a 
working table. Here, glass scales were placed on the housing 
attached to the free EM. Both of the fixed EM and encoders 
were clamped to the working table with screws. In this setup, 
we measured displacements of the free EM in x, y, and ?-axis. 
Input signals were generated with the FPGA board 
(LabVIEW, PCIe-7852R) and amplified 32-fold with an  
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
amplifier. Fig 10 shows the block diagram of 3-axis PID 
control. k
I
, k
P
, and k
D
 are vectors composed of integral , 
proportional, and derivative gains in x-, y-, and ?-axis 
respectively as defined by, 
 
 
 [ 
  
 
  
 
  
], (28) 
 
 
 [ 
  
 
  
 
  
], (29) 
 
 
 [ 
  
 
  
 
  
]. (30) 
From (28), (29), and (30), PID controller of C
PID
 is defined as, 
 
   
( ) [
 
 
 ⁄
 
 
  
 
] [
 
  
 ⁄ 
  
 ⁄ 
  
 ⁄
 
  
 
  
 
  
  
  
  
  
  
  
]. (31) 
 
 
 
 
 
 
 
 
 
 
B. Experimental results 
As shown in Figs. 2 and 9, we use the mechanical amplifier to 
the actuators; there are many springs in the mechanism. These 
springs easily generate non-negligible vibrations. We 
checked the theoretical fastest signal obtained by the 
bang-bang control method was good for decreasing the 
overshoot and the residual vibration. We succeeded to 
decrease the overshoot less than 1?m, although the average 
settling time is 280ms when target displacement is 10?m in x 
axis as previous papers [13]. Here, the settling time is 
determined as time that elapses before the positioning error 
damps within ±2% of the target displacement. However, it is 
impossible to eliminate the residual vibration completely 
especially under sub-?m scale because there are numerous 
non-linear effects such as a thermal drift and a hysteresis of 
the actuators. PID control is good for reducing the residual 
vibration and the non-linear effects after the bang-bang 
control. In this paper, we show primary experimental results 
of the pure 3-axis PID control to check that control variables 
are definitely converge when measurement resolution of 
encoders are ± 0.05?m. Table 4 shows parameters in 
experiments. We set the measurement and feedback periods 
Table IV  
Parameters 
Symbol Parameter 
Quantity 
Average (± ?) 
m Mass of electromagnet (EM) 0.045 [kg] 
r Radius of EM 39 [mm] 
k S 
Spring constant of the actuators in 
shear deformation 
Negligibly  
Small 
k L 
Spring constant of the actuators in 
compression deformation 
115000 [N/m] 
c S 
Damping constant of the actuators in 
shear deformation 
5.5 ± 0.93 
[Ns/m] 
h Proportional coefficient of the actuator -1.02 [V/?m] 
j Magnification of an amplitude 32 
V O Offset voltage 50 [V] 
F ad Electromagnetic force 14.1[N] 
+ 
U(s) 
? ? (? ) 
+ 
+ 
? (? ) 
? ? (? ) 
? ( ) 
D(s) 
+ 
+ 
? ??? (? ) 
  
+ 
? (? ) 
? (? ) 
? ? 
? ? ? ⁄ 
? ? ? 
+ 
+ 
Fig. 10. Block diagram of 3-axis PID control 
Fig. 8. Experimental setup 
Counter circuit 
of the encoders 
PC with FPGA board 
Amplifier 
Mechanism 
with an encoder 
Fig. 9. Close up view of the mechanism with “outer” encoders 
Fixed EM 
(clamped) 
Movable EM 
Encoders with 0.05 ?m resolution fixed to the table  
Clamp screw 
Piezoelectric 
actuator 
Housing with 
linear scales 
2556
  
as 15?s. The mechanical resonance period is around 2ms, so 
we assume that the feedback period is sufficiently small. Note 
that the overshoots are harmful for delicate precise processing 
because tiny samples might be easily collapsed. We obtained 
k
I
, k
P
, and k
D
 by a limit sensitivity method (LSM) for single 
axis PID control of each of x-, y-, and ?-axis as listed in table 
5 when there are no overshoot. Fig. 11 shows typical plot of 
the displacement in x-axis vs. time. When we conduct a 2-axis 
PID control, we set the target displacement to 10 ± 0.05?m in 
both of x- and y-axes. When we set their gains to the same 
gains of the single axis PID control, the two displacements in 
x- and y- axis did not surely converge by coupling effect 
between x- and y- axis. However, we found out the two 
displacements surely converge by random search around the 
gains of the single axis PID control as listed in table 6. Fig. 12 
shows typical plot of the displacements in x and y- axis vs. 
time. The average settling time is around 40ms in the 2-axis 
PID control. When we conduct a 3-axis PID control, we set 
the target displacement to 10 ± 0.05?m in both of x- and 
y-axes, 0 ± 10
-6
rad in ? axis. When we set their gains to same 
gains of the single axis PID control as listed in table 5, the 
three displacements also did not converge by coupling effect 
among them. When we set their gains to a combination of the 
same gains of the 2-axis PID control in table 6 and that of the 
single axis PID control in ?-axis in table 5 as listed in table 7, 
we found out that the three displacements surely converge. 
Fig. 13 shows typical plot of three displacements vs. time. 
The average settling time is around 95ms in the 3-axis PID 
control. However, we also check that if we change the target 
displacements, 3 displacements did not accurately converge 
when we set the gains as table 7. We concluded that we need 
to investigate more detailed procedure how to set the PID 
gains due to the three target displacements. As shown in Fig. 
14, we also plan to combine the bang-bang control and this 
3-axis PID control to eliminate the overshoots and decrease 
the settling time as much as possible.  
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
Table V  
Minimum settling time without overshoot in single axis PID control and gains 
obtained by limit sensitivity method 
Symbol Quantity  Target 
Settling time 
Target ± 2% 
k Ix 5.64 
x=15 ± 0.05?m 12.5 [ms] k Px 0.08 
k Dx 125 
k Iy 2 
y=15 ± 0.05?m 19.5 [ms] k Py 0.145 
k Dy 125 
k I? 0.1 
?=0.001 ±10
-6
rad 8.75 [ms] k P? 0.018 
k D? 50 
Table VI 
Minimum settling time and gains without overshoot in  2-axis PID control 
Symbol Quantity  Target  
Settling time 
Target ± 2% 
k Ix 2 
x=10 ± 0.05?m 
y=10 ± 0.05?m 
40 [ms] 
k Px 0.04 
k Dx 125 
k Iy 2 
k Py 0.04 
k Dy 125 
Table VII 
Minimum settling time and gains without overshoot in 3-axis PID control 
Symbol Quantity  Target  
Settling time 
Target ± 2% 
k Ix 2 
x=10 ± 0.05?m 
y=10 ± 0.05?m 
?=0 ±10
-6
rad 
95.3 [ms] 
k Px 0.04 
k Dx 125 
k Iy 2 
k Py 0.04 
k Dy 125 
k I? 0.1 
k P? 0.018 
k D? 50 
-2 
-4 
-6 
-8 
-10 
Fig. 13. Plot of displacements vs. time of 3-axis PID control 
? x 10
-5
 [rad] 
x, y [?m] 
x [?m] 
Fig. 11. Plot of x vs. time with 1-axis PID control 
time [s] 
x, y [?m] 
time [s] 
Fig. 12. Plot of x and y vs. time of 2-axis PID control 
2557
  
 
 
 
 
 
 
 
 
 
 
 
 
 
V. REQUIREMENT OF ACCELERATION FF CONTROLLER 
In previous sections, we have explained that the 
combination of the bang-bang control signals and 3-axis PID 
controller is one possible approach to achieve fast and precise 
positioning. However, we still have to consider about an 
influence of disturbance and slips of the fixed EM because the 
3DoF inner position sensor in fig. 7 can only measure relative 
motions between EMs. Fig. 15 shows simplified 1-axis model 
with 3 motion sensors, we attach the sensors to each EM and 
the table. To simplify the explanation, we neglect the 
influence of rotational accelerations. We can detect the slips 
of the fixed EM when following condition becomes not true, 
 
  
 [
 ?  
( )
 ?  
( )
] [
 
 
?( )
 
 
?( )
]  
 
 (32) 
If EM-1 is oscillated by  
 
, Newton’s equation of motion (2) 
becomes as given by, 
  
  
   ( 
 
  
 
)?( 
  
  
  
)     
 
∫( 
  
  
  
)  
  
 
[
 
 
    
 
 
 
 
 
 
 
 
 
 
 
   
√ 
 
√ 
 
√ 
 
 
√ 
 
]
 
 
 
 ( )  
(33) 
We can obtain an inertia force of F
I
 generated by  
 
 from the 
comparison between (2) and (33) as given by, 
 
 
 [
 
   
 
   
]  ( 
 
  
 
)? 
  
     
 
∫ 
  
    (34) 
If we apply additional enforced displacements of ?n(t) in (33) 
to be against F
I
, the influence of the disturbance is canceled. 
 
 
 
 
 
 
 
 
 
 
VI. CONCLUSION 
We explain requirement to measure an inner state by an 
inner sensors for miniature mobile robots driven by PAs to 
obtain precise and fastest control at the beginning. We 
summarize modeling and principle of the robot and a 3DoF 
position sensor with four linear encoders. We describe design, 
development and experimental results of the pure 3-axis PID 
control to check that x, y, and ?-axes of movable EM are 
surely converge when measurement resolution of encoders 
are ± 0.05?m. We achieve settling time of 95ms with 3-axis 
PID control. We also achieve that of 20ms in 1-axis PID 
control in each axis. To detect outer vibration which the 3DoF 
position sensor cannot detect, we explain requirement of an 
acceleration FF controller with 3 motion sensors. Main 
contribution of this article is demonstration of simultaneous 
3-axis PID control of the miniature mobile robots driven by 
PAs with nanometer-scale resolution. This paper also 
contributes to discussion about elimination of influence from 
outer vibration by acceleration FF controller with 3 motion 
sensors. We are now developing combination of the 
bang-bang control and 3-axis PID control with the 
acceleration FF controller to get more accurate and faster 
positioning for the miniature mobile robot. Final goal of this 
project is making precise, fast, flexible, energy-efficient, and 
compact robotic factory organized by these precise miniature 
robots for chip mounting and bio-medical applications.  
REFERENCES 
[1] T. Braeunl, Embedded Robotics, Mobile Robot Design and 
Applications with Embedded Systems, Springer Berlin Heidelberg 3rd, 
ISBN-13 978-3540705338, 2008 
[2] M. S. Kang and W. H. Yoon, Acceleration feedforward control in 
active magnetic bearing system subject to base motion by filtered-X 
LMS algorithm, IEEE Transactions on Control Systems Technology, 
Vol. 14, No. 1, pp. 134-140, 2006 
[3] A. Jinzenji, et al., Acceleration feedforward control against rotational 
disturbance in hard disk drives, IEEE Tran. on Magnetics, Vol. 37, No. 
2, pp. 888-893, 2001  
[4] R. L. Tousain, et al., Fixed structure feedforward controller design 
exploiting iterative trials: Application to a wafer stage and a desktop 
printer, J. of Dynamic Systems, Measurement, Vol. 130, No. 5, p. 
051006-1/16, 2008 
[5] U. Simu, et al., Fabrication of monolithic piezoelectric drive units for a 
miniature robot, J. Micromech. Microeng., Vol. 12, No. 582, 2002 
[6] A. Kortschack, et al., "Driving principles of Mobile Microrobots for the 
Micro- and Nanohandling", IEEE IROS2003, pp.1895-1900,  2003. 
[7] A. Bergander, et al., "Mobile cm
3
-microrobots with tools for Nanoscale 
imaging and micromanipulation" Mechatronics & Robotics (MechRob 
2004), pp.1041-1047, 13-15, 2004. 
[8] S. Fatikow, et al., "Microrobot system for automatic nanohandling 
inside a scanning electron microscope", IEEE/ASME T Mech., 12(3), 
pp.244-252, 2007. 
[9] M. Rakotondrabe, et al., 'Development, Modeling, and Control of a 
Micro-/Nanopositioning 2-DOF Stick Slip Device', IEEE/ASME 
TMech, 14(6), 2009. 
[10] F. Schmoeckel, et al., Smart flexible microrobots for scanning electron 
microscope (SEM) applications,  Proc. of SPIE 3985, Smart Structures 
and Materials: Smart Structures and Integrated Systems, 142, 2000 
[11] O. Fuchiwaki, Insect-sized Holonomic Robots for Precise, 
Omnidirectional, and Flexible Microscopic Processing: Identification, 
Design, Development, and Basic Experiments, Precision Engineering, 
Vol. 37, No. 1, pp. 88-106, 2013 
[12] O. Fuchiwaki, et al., Development of 3 DOF Inchworm Mechanism for 
Flexible, Compact, Low-Inertia, and Omnidirectional Precise 
Positioning : Dynamical analysis and improvement of maximum 
velocity within no slip of electromagnets, IEEE/ASME TMech, Vol. 17, 
No. 4, pp. 697-708, 2012 
[13] O. Fuchiwaki, et al., Design of an Integrated 3DoF Inner Position 
Sensor and 2DoF Feedforward Control for a 3DoF Precision Inchworm 
Mechanism, Proc. of IEEE ICRA2013, pp. 5475-5481, 2013 
? ?G 
 ? ?G 
 
Piezoelectric actuators 
Fig. 15. Arrangement of 3 motion sensors attached on 1-DOF model 
EM-1 
(Fixed) 
EM-2 
(Free) 
Enforced 
displacement 
? ?S
 
o 
Stage 
o o 
3k
L
 
3k
s
 
3c
s
 
Motion 
sensor 
 
Are positioning errors less than 
thresholds? 
3-axis PID controller 
Bang-bang controller 
No 
Fig. 14. Flow chart of a bang-bang control and 3-axis PID control 
Yes 
2558
