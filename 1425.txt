Contact Dynamics of Massage Compliant Robotic
Arm and Its Coupled Stability
Yuancan Huang
1,2
, Philippe Sou` eres
2
and Jian Li
1
AbstractÑ In this paper, contact dynamics of robot massage
is described by the port-Hamiltonian modelling approach. In
order to capture accurately the inherent characteristics of the
human body in lumped-parameter manners, the conventional
linear Kelvin-Voigt models are replaced by the nonlinear Hunt-
Crossley models. As an application of the contact dynamics,
coupled stability of compliant robotic arm with impedance
control is theoretically analyzed from energetic viewpoints.
Experiments are done to verify the massage stability. The
proposed contact dynamics evidently has great potential on
performance improvement of robot massage, which will be our
research subject.
I. INTRODUCTION
Naturally, robots are chosen to automate massage activities
that are world-popular but laborious, repetitive, and time-
consuming. In order to guarantee both performance and
safety of robot massage, an integrated rotary compliant
joint was designed [1], by which a 4-DOF anthropomorphic
complaint arm was developed for the traditional Chinese
medicine remedial massage [2]. Impedance control and its
variants are used by almost all massage robots in the lit-
eratures in spite of the criticism on its performance and
possible failures [3], [4], for they can guarantee the stable
interaction with an unknown environment [5], [6]. However,
knowledge on contact dynamics is instrumental in improving
the performance of impedance control and exploring its
limits [7], [8]. As our best knowledge, there is not yet the
relevant works on this aspect for massage robots.
The port-Hamiltonian approach is one of port-based net-
work modeling approaches, which has been recently de-
veloped to model complex dynamical systems [9], [10]
by deÞning port variables and delineating interconnection
of subsystems by means of the power continuity, which
results in the power-conserving Dirac structure [11]. In this
paper, the port-Hamiltonian approach is adopted to model
the contact dynamics of robot massage. The contribution
of our works is threefold: The impedance control in [12],
[13] is reformulated from energetic viewpoints, and the
coupled stability is reassured in port-Hamiltonian framework;
we generate a promising perspective to improve interacted
This work was supported partially by the National Natural Sciences
Foundation of China under Research Grant 61075080 and by the French
project ROMEO2
1
Yuancan Huang and Jian Li are with the Institute of Intelligent Robot,
School of Mechatronical Engineering, Beijing Institute of Technology,
100081 Beijing, China. yuancanhuang@bit.edu.cn.
2
Philippe Sou` eres and Yuancan Huang are with Laboratoire
dÕArchitecture et dÕAnalyse des Syst` eme, Centre National de la Recherche
ScientiÞque (LAAS-CNRS), University of Toulouse, 31077 Toulouse,
France. Philippe.Soueres@laas.fr.
behaviors of impedance control with better knowledge on the
contact dynamics of robot massage; new control schemes by
port-interconnection, such as IPC [14] and IDA-PBC [15],
may be used to regulate robots for massage.
In the remaining, the port-based Hamiltonian modelling
approach is brießy introduced in Section II, and contact
kinematics is calculated by mathematically describing the
surfaces of the body and the massage head in Section III.
Then, the interconnection structure of robot massage is intro-
duced, by which the corresponding Dirac structure is derived,
and then each component dynamics in this interconnection
is described independently with consideration of external
ports. In Section V, impedance control is reformulated in
full-state feedback form, and coupled stability is analyzed
from energetic viewpoints. Some experiments are fulÞlled to
verify the coupled stability during robot massage in Section
VI. Finally, Section VII draws the conclusions and describes
a perspective on the further applications of contact dynamics.
II. PORT-HAMILTONIAN MODELLING APPROACH
A. Dirac Structure
LetF?F
?
denote the space of power variables, withF
being an n-dimensional linear space, which is the space of
ßows (e.g., velocities in mechanical domain and currents in
electrical domain), andF
?
being its dual, which is the space
of efforts (e.g., forces in mechanical domain and voltages in
electrical domain), and let the dual product hf, ei denote the
power associated with the power port (e, f)?F?F
?
.
DeÞnition 2.1: A (constant) Dirac structure on F is a
linear subspaceD ?F?F
?
such that dimD = dimF and
hf, ei= 0, ?(e, f)?D.
Remark 2.2: The condition implies that, if each pair (e, f)
belongs to the Dirac structure, then hf, ei= 0, i.e., the sum
of instantaneous powers passing through the port vanishes.
This generalizes the TellegenÕs theorem in electrical domain
and will lead to a rigorous description of a interconnection
structure which can be directly used for dynamical analysis.
B. Port-Hamiltonian System (PHS)
Consider a lumped-parameter physical system deÞned on
a manifold M with local coordinates x?R
n
. The total energy
is the Hamiltonian H(x). Assume that there is a multibond
boundary port with port variable pair (e
b
,f
b
) ?R
m
?R
m
.
For each x? M, we consider F
x
= T
x
M?R
m
and F
?
x
=
T
?
x
M?R
m
and deÞne a Dirac structureD(x)?F
x
?F
?
x
.
The ßow variables of energy-storing elements are given as
ú x(t) and its effort variables as ¦H/¦x, which implies that
h¦H/¦x, ú x(t)i = dH/dt is the energy increase. In order to
2014 IEEE International Conference on Robotics & Automation (ICRA)
Hong Kong Convention and Exhibition Center
May 31 - June 7, 2014. Hong Kong, China
978-1-4799-3684-7/14/$31.00 ©2014 IEEE 1499
have a consistent sign convention that energy ßows from
the boundary ports into the system and from the internal
network into the energy storing elements, let f
x
=?ú x and
e
x
= ¦H/¦x. Hence, an Implicit Port-Hamiltonian System
(IPHS) on M is deÞned by the set of differential and algebraic
equations (DAE):

?ú x, f
b
,
¦H
¦x
, e
b

?D(x), ?x? M
with the power-conserving property
0=hf, ei=hf
x
, e
x
i+hf
b
, e
b
i=?
¦H
¦x
ú x+ e
T
b
f
b
from which dH/dt = e
T
b
f
b
. By [9], an explicit input/output
PHS is given by:
S :
(
ú x= J(x)
¦H
¦x
+ g(x)u,
y= g(x)
T ¦H
¦x
+ B(x)u,
where g is arbitrary, J and B are both skew-symmetric, and
y=(f
T
b
1
, e
T
b
2
)
T
, u=(e
T
b
1
, f
T
b
2
)
T
.
III. CONTACT KINEMATICS
The body and the massage head are treated as two rigid
bodies with smooth, orientable surfaces X
1
and X
2
, whose
Gauss maps are deÞned as n
1
and n
2
, respectively. As a
result, the contact kinematics is amounted to the motion
between two points p
1
and p
2
on the surfaces X
1
and X
2
with the shortest distance. Under convexness assumption,
there are always such two unique points p
1
and p
2
in the
boundary X
1
? X
2
whose linking line l
n
is normal to both
the surfaces X
1
and X
2
. Given a point c? l
n
(e.g., the desired
contact point), there is a unique plane p orthogonal to l
n
and
passing through the point c as shown in Fig.1.
Fig. 1: Two points on X
1
and X
2
with the shortest distance.
Let p
i
, i= 1,2, denote the position vector of the point p
i
in its own frames 1 and 2. A minimum sign distance D?R
is deÞned as:
D=hn
1
, T
1
2
p
2
? p
1
i,
where T
1
2
represents the relative conÞguration of two frames
1 and 2. When D> 0, the bodies are not in contact; when
D = 0, the bodies are in contact; when D < 0, the bodies
penetrate each other by a distance of|D|. The velocities of p
1
and p
2
are uniquely determined by the following equations
[16]:

n
1?
+ T
1
2
n
2?
T
2
1
(I+ Dn
1?
)

ú p
2
= t
1,1
2
+ T
1
2
n
2?
(
ú
Dn
2
? t
2,2
1
p
2
)

n
2?
+ T
2
1
n
1?
T
1
2
(I+ Dn
2?
)

ú p
1
= t
2,2
1
+ T
2
1
n
1?
(
ú
Dn
1
? t
1,1
2
p
1
),
where I is the unit matrix, t
i,i
j
=?T
i
j
t
j, j
i
T
j
i
is a relative twist of
the two bodies expressed in frame j, and n
i?
represents the
corresponding tangent map. In addition,
ú
D =hn
1
, t
1,1
2
T
1
2
p
2
i
and D> D
min
for some D
min
< 0, which depends on properties
of the body and the massage head. In our case, since ú p
2
= 0,
the velocity relations are rewritten as:

n
2?
+ T
2
1
n
1?
T
1
2
(I+ Dn
2?
)

ú p
1
= t
2,2
1
+ T
2
1
n
1?
(
ú
Dn
1
? t
1,1
2
p
1
),
t
1,1
2
+ T
1
2
n
2?
(
ú
Dn
2
? t
2,2
1
p
2
)= 0.
IV. CONTACT DYNAMICS
A. Port-Based Model of Robot Massage
During massages, one is asked sitting on a chair or lying
on a bed, and keeping relaxed and steady as far as possible
meanwhile not actively exerting any force back. Therefore,
it is rather reasonable that the human body is modeled as
an inertial mass with a pair of spatial spring and damper
on the upper side and a spatial spring on the lower side,
where the pair of spatial spring and damper represents the
viscoelasticity of soft tissues, and the spatial spring replicates
the reaction force on the robotic arm from the chair or the
bed, or by one who tries to keep his body steadily, see Fig.
2.
Fig. 2: Port-based model of robot massage.
From the view point of port-based network modelling, a
contact Dirac structure interconnects the robotic arm with
the inertial mass by a spatial spring representing the body
with kinematic constraints, the storage elements representing
the elastic effect of soft tissue, and the dissipation elements
representing the viscous effect of soft tissue and Coulomb
friction. Optionally, one control port can be added to reg-
ulate the behaviors of the robotic arm. Figure 3 shows the
interconnection structure of port-based model.
B. Mathematical Description of Contact Dirac Structure
DeÞne a binary signal s
D
as:
s
D
=

0, if D² 0,
1, otherwise.
Then, s
D
= 0 if there is contact and s
D
= 1 if there is no
contact. In practice, the massage head is required to only roll
around the normal of the body. Thus its velocity screws se(3)
can be decomposed into two terms involving rolling around
the normal or not: the screws(v
x
,v
y
,v
z
,w
z
) representing three
translations on the plane p and one pure rotation around
1500
Fig. 3: Interconnection structure of port-based model.
l
n
, and the others (w
x
,w
y
) representing two pure rotations
around two axis lying on p and passing through c, namely,
se(3)= R
xy
?(se(2)? T
z
),
where R
xy
:= span{w
x
,w
y
} and Lie algebra se(2)? T
z
repre-
sents the motions on p together with the normal translation
along l
n
.
An inertial reference frame A and the contact frame
C where origin lies at the contact point c and z axis
aligns to l
n
are assigned Þrst. DeÞne a projection operator
P
se(2)?T
z
: se(3) ? se(2)? T
z
, which can be represented
by the matrix P while coordinate frames are selected. Its
adjoint operator P
?
se(2)?T
z
maps wrench w
C
2,1
? (se(2)? T
z
)
?
into wrench P
?
w
C
2,1
? se
?
(3) where the prime denotes matrix
transpose. In four ports (t
A,A
1
,w
A
1
), (t
A,A
2
,w
A
2
), (t
C,1
2(store)
,w
C
store
)
and (t
C,1
2(diss)
,w
C
diss
), there exist the following velocity and
force constraints:
t
C,1
2(store)
= t
C,1
2(diss)
=(s
D
? 1)PAd
T
C
A
t
A,A
1
+(1? s
D
)PAd
T
C
A
t
A,A
2
,
w
A
1
=(1? s
D
)Ad
?
T
C
A
P
?
w
C
store
+(1? s
D
)Ad
?
T
C
A
P
?
w
C
diss
,
w
A
2
=(s
D
? 1)Ad
?
T
C
A
P
?
w
C
store
+(s
D
? 1)Ad
?
T
C
A
P
?
w
C
diss
,
where Ad
T
C
A
transforms twists from A to C, and its duality
Ad
?
T
C
A
transforms wrenches from A to C. Similar to that in
[17], the Dirac structure is written by:
E
?
?
?
?
w
A
1
w
A
2
w
C
store
w
C
diss
?
?
?
?
+ F
?
?
?
?
?
t
A,A
1
t
A,A
2
t
C,1
2(store)
t
C,1
2(diss)
?
?
?
?
?
= 0 (1)
with
E :=
?
?
?
?
?
I
6
0 (s
D
? 1)Ad
?
T
C
A
P
?
(s
D
? 1)Ad
?
T
C
A
P
?
0 I
6
(1? s
D
)Ad
?
T
C
A
P
?
(1? s
D
)Ad
?
T
C
A
P
?
0 0 0 0
0 0 0 0
?
?
?
?
?
and
F :=
?
?
?
?
0 0 0 0
0 0 0 0
(s
D
? 1)PAd
T
C
A
(1? s
D
)PAd
T
C
A
?I
4
0
(s
D
? 1)PAd
T
C
A
(1? s
D
)PAd
T
C
A
0 ?I
4
?
?
?
?
Here, the switching element s
D
in E is used to switch off the
contact forces w
C
store
and w
C
diss
while no contact occurs. The
connection of storage and dissipation elements depends on
whether contact occurs or not, thus the Dirac structure has
variable topology.
C. Hamilton Equations of Compliant Robotic Arm and the
Human Body
1) Compliant Robotic Arm: Consider an n-link robotic
arm with fully revolute compliant joints where a serial elastic
unit is put in connecting the motor shaft with the link in each
joint. Assume that the rotor/gear inertia is symmetric around
the rotorÕs axis and that the rotor has no translational motion
itself. It has been shown that [18], the total kinetic energy
consists of two components: the kinetic energy of the rigid
robotic arm where the serial elasticity in joints is neglected,
and the rotational kinetic energy of the joint rotors
T(q
q
,q
q
, ú q
q
, ú q
q
)=
1
2
ú q
?
q
M(q
q
)q
q
+
1
2
ú q
?
q
Bq
q
, (2)
where q
q
= (q
1
,...,q
n
)
?
and q
q
= (q
1
,...,q
n
)
?
be the gen-
eralized coordinates where q
i
and q
i
represent the angular
positions of link i and rotor i respectively, M(q
q
) is the
inertia matrix of the rigid robotic arm calculating by standard
techniques once the rotor masses are regarded as a part of
the proximal links for their inertia tensor, and B the inertia
matrix of the rotors.
The elastic potential of the serial elastic unit is
P(q
q
,q
q
)=
1
2
(q
q
? q
q
)
?
K(q
q
? q
q
),
where K is a diagonal matrix with stiffness coefÞcients as its
diagonal elements. Invoking again the symmetry assumption,
the gravitational potential is a function only of q
q
. Therefore,
the total potential energy is written as:
U(q
q
,q
q
)= P(q
q
,q
q
)? G(q
q
), (3)
where the gravitational potential energy term G(q
q
) is found
from the standard formulae for rigid robots. Hence, the
Lagrangian is
L(q
q
,q
q
, ú q
q
, ú q
q
)= T(q
q
,q
q
, ú q
q
, ú q
q
)?U(q
q
,q
q
).
By the Legendre transform of L(q
q
,q
q
, ú q
q
, ú q
q
), the corre-
sponding Hamiltonian function is
H
robot
(q
q
,q
q
,p
q
,p
q
)=
1
2
p
?
q
M
?1
(q
q
)p
q
+
1
2
p
?
q
B
?1
p
q
?
1
2
(q
q
? q
q
)
?
K(q
q
? q
q
)+ G(q
q
),
where p
q
= ¦L/¦ ú q
q
and p
q
= ¦L/¦ ú q
q
. Assume that t
A,A
2
=
J
R
(q
q
)ú q
q
where J
R
(q
q
) is the Jacobian. Its dual relation is
t
ext
= J
?
R
(q
q
)w
A
2
where t
ext
represents the external torque
1501
acting on the robotic arm. If one control port (u,y) and
one interacted port (t
A,A
2
,w
A
2
) are added, a port-Hamiltonian
system with two ports is written by:
?
?
?
?
ú p
q
ú p
q
ú q
q
ú q
q
?
?
?
?
=
?
?
?
?
0 0 ?I
q
0
0 0 0 ?I
q
I
q
0 0 0
0 I
q
0 0
?
?
?
?
? (4)
?
?
?
?
?
M
?1
(q
q
)p
q
B
?1
p
q
1
2
p
T
q
¦M
?1
(q
q
)
¦q
q
p
q
? K(q
q
? q
q
)+ g(q
q
)
K(q
q
? q
q
)
?
?
?
?
?
+
?
?
?
?
0
0
J
?
R
(q
q
)w
A
2
u
?
?
?
?
,
t
A,A
2
= J
R
(q
q
)ú q
q
,
where u is the control torque and g(q
q
)= ¦G(q
q
)/¦q
q
.
2) The Human Body: Here, the body is modeled as a
combination of an inertial mass with inertia matrix M
I
(q
I
),
where q
I
is the conÞguration vector of the body, and a
linear spatial spring with the stiffness matrix K
I
(q
I
). The
Hamiltonian of the body can be written as:
H
body
(p
I
, q
I
)=
1
2
p
?
I
M
?1
I
(q
I
)p
I
?
1
2
(q
I
? q
0
I
)
?
K
I
(q
I
)(q
I
? q
0
I
),
where q
0
I
is some reference position of the body. The port-
Hamiltonian equation with the port pair (t
A,A
1
, w
A
1
) is
ú q
I
= M
?1
I
(q
I
)p
I
+ J
+
I
(q
I
)t
A,A
1
,
ú p
I
=?
1
2
p
?
I
¦M
?1
(q
I
)
¦q
I
p
I
+ K
I
(q
I
)(q
I
? q
0
I
) (5)
+
1
2
(q
I
? q
0
I
)
?
¦K
I
(q
I
)
¦
q
I
(q
I
? q
0
I
),
K
I
(q
I
)(q
0
I
? q
I
)= J
?
I
(q
I
)w
A
1
,
where J
+
I
(q
I
) is the psuedoinverse of the Jacobian from the
inertial frame A to the frame 1. Since both kinetic energy
and elastic potential are conserved, the energy balancing
relation is dH
I
/dt =?(w
A
1
)
?
t
A,A
1
. Of course, this model can
be simpliÞed according to practical requirements, e.g., it
degenerates into the kinematics constraints if no dynamics is
considered, or the inertia matrix M
I
(q
I
) and/or the stiffness
matrix K
I
(q
I
) are constant.
D. Viscoelasticity of the Body and Coulomb Friction
1) Hunt-Crossley Model: The simple model characteriz-
ing soft tissues of the body is known as the Kelvin-V oigt
model, which is represented by the parallel of a linear spring
and a viscous damper. However, the linear model is not
suitable to describe the behavior of human tissues, where
viscous effects are substantial [19], [7]. Hunt and Crossley
[20] showed that it is possible to obtain a behavior that
is in better agreement with the physical intuition if the
damping coefÞcient is made dependent on the bodyÕs relative
penetration. If F(t) is the force exerted by the soft tissue
on the massage head during contact, the nonlinear model is
expressed as:
F(t)=

k| D(t)|
n
+l | D(t)|
n
ú
D(t), D² 0
0, D> 0
where the exponent n is usually close to unity. Since the
contact surface increases as the penetration depth increases,
the exponent allows taking into account the stiffness variation
due to a larger contact area. For the sake of simplicity,
let n = 1, i.e., assume that the contact area does changes
with respect to the penetration depth. It is important to note
that the physical consistency of the model can be preserved
by a proper generalization to the full geometrical contact
description (more than one DOF), as discussed in [21], [17].
Thus a spatial spring in parallel with a spatial damper is used
to describe the viscoelasticity of the body.
2) Viscoelastic of the Body: The massage head, which is
much harder than soft tissues in the body, may be regarded as
a rigid body. The contact frame C is deÞned as follows: the
contact point c is the massage point on the body, the plane p
coincides with the tangent plane at c, and the line l
n
connects
the contact point c with the massage head. According to the
Hunt-Crossley model with n= 1, there is [22]
w
C
store
= K
B
dt
C,1
2(store)
, w
C
diss(B)
= D
B

dt
C,1
2(store)

t
C,1
2(store)
,
where dt
C,1
2(store)
represents the variation of the twist t
c,1
2(store)
,
K
s
is a two-covariant stiffness tensor such that K
s
dt is the
restoring force resulting from the deformation dt around
the equilibriums, and D
B

dt
C,1
2(store)

is the damping matrix
which locally is deÞned as

dt
C,1
2(store)

?
D with a constant
diagonal matrix D. The stiffness tensor K
s
can be deÞned
globally by using a connection [23] and then the potential
function P
B
is constructed from K
s
at the minimum by
integration of the forces [14]. Furthermore, we can directly
deÞne a Rayleigh dissipation function R
B
such that w
C
diss(B)
=
¦R
B
/¦t
C,1
2(store)
.
3) Coulomb Friction: In order to consider the effect
of friction, a resistive port pair

t
C,1
2(store)
,w
C
diss(F)

is sup-
plemented. The friction force is calculated by w
C
diss(F)
=
K
f

t
C,1
2(store)

w
C
diss(B)
+ w
C
store

, where K
f
is the sign friction
coefÞcient matrix such that the friction force satisÞes velocity
reversal conditions. In addition, we have w
C
diss
= w
C
diss(B)
+
w
C
diss(F)
.
V. IMPEDANCE CONTROL AND COUPLED STABILITY
A. Impedance Control
In terms of energy shaping viewpoints, an impedance
controller with two feedback loops is constructed in [12],
[13]. Rewritten in the matrix form, the torque inner loop is
u= BB
?1
a
v+(I? BB
?1
a
)t
meas
, (6)
where v is an intermediate control input vector, B
a
the motor
apparent inertia vector with respect to v, and u is the motor
torque vector. The impedance outer loop is a PD controller
with gravity compensation:
v=?K
q
(q
q
? q
d
q
)? D
q
ú q
q
+ g(q
q
), (7)
where q
d
q
is the desired rotor angular position vector, and
K
q
and D
q
are the desired stiffness and damping matrices,
1502
respectively. The given impedance control is actually a full-
state feedback controller.
However, we cannot derive the expected passivity from the
control law (7). A solution is to choose v as a function of only
q
q
and its derivative ú q
q
by replacing q
q
with its stationary
equivalent ö q
q
(q
q
), which can be solved in a sufÞciently small
neighborhood of the equilibrium point from
q
q
= f(q
q
)= q
q
+ K
?1
[?K
q
(q
q
? q
q
)+ g(q
q
)].
Generally, the inverse function f
?1
has not analytic ex-
pression. For a given q
q
, it is possible to approximate the
value ö q
q
(q
q
)= f
?1
(q
q
) with arbitrary precision by iteration
method. The updated control law is written as:
v=?K
q

ö q
q
(q
q
)? q
d
q

? D
q
ú q
q
+ g
 
ö q
q
(q
q
)

, (8)
After this substitution, due to gravity compensation and
energy shaping, the Hamiltonian of the overall closed-loop
system is given by:
H
close
(q
q
,q
q
,p
q
,p
q
)=
1
2
p
?
q
M
?1
(q
q
)p
q
+
1
2
p
?
q
B
?1
a
p
q
?
1
2
(q
q
? q
q
)
?
K(q
q
? q
q
).
It has been shown [12], [13] that, for the robots only with
rotational joints, there is
dH
close
dt
=?ú q
T
q
D
q
ú q
q
?(w
A
2
)
?
t
A,A
2
<?(w
A
2
)
?
t
A,A
2
,
i.e., the overall closed system is strictly passive with respect
to the port pair (t
A,A
2
,?w
A
2
).
B. Coupled Stability
Putting two dynamical equations (5) and (6) together and
combining with the algebraic constraints (1) in which the
unknown wrenches and the unknown twists are calculated in
terms of the acquired measurements, e.g., t
c,1
2(store)
, we obtain
the overall contact dynamics of massage compliant robotic
arm. Its Hamiltonian is H = H
close
+ H
body
. According to the
energy balance relation, we derive
dH
dt
<
 
w
C
diss
+ w
C
store

?
t
C,1
2(store)
< 0, ?s
D
?{0,1}.
In other words, the compliant robotic arm with impedance
controller is asympotically stable, no matter whether it is in
contact with the body or not.
VI. EXPERIMENTAL VERIFICATION
To verify the coupled stability, pressing, kneading, and
plucking are realized on the human body by the 4-DOF
anthropomorphic compliant robotic arm [2] in two scenarios
where the subject is sitting on a chair and lying on a
bed, see Fig. 4. In robotic language, pressing is an up and
down cyclic motion perpendicular to the body; kneading
and plucking are, respectively, the circular and rectilinear
cyclic motions tangential to the body. In the experiments, all
of these massage movements exerts vertically a downward
force on the body. During robot massages, force curves are
measured by JR3 6DOF force-torque sensors 50M31. The
(a) Lying scenario (b) Sitting scenario
Fig. 4: Two scenarios for verifying coupled stability
results in Fig. 5 and Fig. 6 show that the coupled stability
is guaranteed in the different massage scenarios, which has
been already predicted by the foregoing theoretical analysis.
0 2 4 6 8 10 12 14 16 18 20
0
10
20
30
40
50
60
70
80
90
100
Time(s)
Force(N)
 
 
small
medium
large
(a) Pressing
0 1 2 3 4 5 6 7 8 9 10
0
10
20
30
40
50
60
70
80
90
100
Time(s)
Force(N)
 
 
small
medium
large
(b) Kneading
0 1 2 3 4 5 6 7
0
10
20
30
40
50
60
70
80
90
100
Time(s)
 Force(N)
 
 
small
medium
large
(c) Plucking
Fig. 5: Force curves of robot massage manipulation in lying
scenario
VII. CONCLUSIONS AND DISCUSSIONS
In this paper, the port-Hamiltonian modelling approach
is used to model the massage manipulation by compliant
robotic arm. Its usages substantiate three aspects: First, the
impedance control for compliant robotic arm in [12], [13]
is reformulated from the energetic viewpoints, and coupled
stability is reassured in the port-Hamiltonian framework.
Second, it is possible to improve the interacted behavior
of impedance control with better knowledge on the contact
dynamics for massage manipulation. Finally, the control
1503
0 2 4 6 8 10 12 14 16 18
0
10
20
30
40
50
60
70
80
90
100
Time(s)
Force(N)
 
 
small
medium
large
(a) Pressing
0 1 2 3 4 5 6 7
0
10
20
30
40
50
60
70
80
90
100
Time(s)
Force(N)
 
 
small
medium
large
(b) Kneading
0 1 2 3 4 5 6 7
10
20
30
40
50
60
70
80
90
100
Time(s)
Force(N)
 
 
small
medium
large
(c) Plucking
Fig. 6: Force curves of robot massage manipulation in sitting
scenario
schemes by port-interconnection, which have been inten-
sively studied in the literature, may be used for massage
manipulation. Then, pressing, kneading, and plucking are
realized on the human body by the 4-DOF anthropomorphic
compliant robotic arm in two scenarios to verify the coupled
stability during massage manipulation. The results show
that coupled stability is guaranteed in the different massage
scenarios, as indicated in the theoretical analysis.
In the future, we will use the contact dynamics to study
the massage performance of impedance control, to explore
the inßuence of the impedance variation on the body, and
to develop new control schemes and new dynamical model
so that more complicated massage manipulation is realized,
e.g., rolling on the body in which nonholonomic constraints
must be considered, and tapping on the body in which we
need to capture impact dynamics.
VIII. ACKNOWLEDGMENTS
The authors gratefully appreciate the support of this re-
search by the National Natural Sciences Foundation of China.
This work was also partially supported by the French project
ROMEO2.
REFERENCES
[1] Y . Huang and et al., ÒIntegrated rotary compliant joint and its
impedance-based controller for single-joint pressing massage robot,Ó
in Proc. of IEEE Int. Conf. on Robotics and Biomimetics, Guangzhou,
China, 2012, pp. 1962Ð1967.
[2] ÑÑ, ÒDesign and control of anthropomorphic BIT soft arms for TCM
remedial massage,Ó in Proc. of IEEE/RSJ Int. Conf. on Intelligent
Robots and Systems, Tokyo, 2013.
[3] T. Valency and M. Zacksenhouse, ÒAccuracy/robustness dilemma in
impedance control,Ó ASME J. Dynam. Syst. Meas. Contr., vol. 125,
pp. 310Ð319, 2003.
[4] B. S. S. Chiaverini and L. Villani, ÒA survey of robot interaction
control schemes with experimental comparison,Ó IEEE/ASME Trans.
on Mechatronics, vol. 4, no. 3, pp. 273Ð285, 1999.
[5] N. Hogan, ÒOn the stability of manipulators performing contact tasks,Ó
IEEE J. Robot. Autom., vol. 4, no. 6, pp. 677Ð686, 1988.
[6] J. E. Colgate and N. Hogan, ÒRobust control of dynamically interacting
systems,Ó Int. J. Control, vol. 48, p. 6588, 1988.
[7] C. M. N. Diolaiti and S. Stramigioli, ÒContact impedance estimation
for robotic systems,Ó IEEE Trans. Robotics, vol. 21, pp. 925Ð935,
2005.
[8] S. P. Buerger and N. Hogan, ÒComplementary stability and loop
shaping for improved humanrobot interaction,Ó IEEE Trans. Robotics,
vol. 23, pp. 232Ð244, 2007.
[9] S. S. V . Duindam, A. Macchelli and H. B. (Eds.), Modeling and
Control of Complex Physical Systems-The Port-Hamiltonian Approach.
Berlin: Springer-Verlag, 2009.
[10] A. J. van der Schaft, L
2
-Gain and Passivity Techniques in Nonlinear
Control (Communication and Control Engineering Series). Berlin,
Germany: Springer-Verlag, 2000.
[11] M. Dalsmo and A. J. van der Schaft, ÒOn representation and integrabil-
ity of mathematical structures in energy-conserving physical systems,Ó
SIAM J. Control Optim., vol. 37, p. 5491, 1999.
[12] C. O. A. Albu-Sch¬ affer and G. Hirzinger, ÒA uniÞed passivity-based
control framework for position, torque and impedance control of
ßexible joint,Ó Int. J. Robot. Res., vol. 26, no. 1, pp. 23Ð39, 2007.
[13] A. K. C. Ott, A. Albu-Sch¬ affer and G. Hirzinger, ÒOn the passivity-
based impedance control of ßexible joint robots,Ó IEEE J. Robotics
Auromat., vol. 24, no. 2, pp. 416Ð429, 2008.
[14] S. Stramigioli, Modeling and IPC Control of Interactive Mechanical
Systems: A Coordinate Free Approach. London, U.K.: Springer-
Verlag, 2001.
[15] A. A. J. Acosta, R. Ortega and A. D. Mahindrakar, ÒInterconnec-
tion and damping assignment passivity-based control of mechanical
systems with underactuation degree one,Ó IEEE Trans. on Automatic
Control, vol. 50, no. 12, pp. 1936Ð1955, 2005.
[16] V . Duindam and S. Stramigioli, ÒModeling the kinematics and dy-
namics of compliant contact,Ó in Proc. of the 2003 IEEE International
Conference on Robotics and Automation, Taipei, Taiwan, 2003, pp.
4029Ð4034.
[17] S. Stramigioli and V . Duindam, ÒPort based modeling of spatial
viscoelastic contacts,Ó Eur. J. Control, vol. 10, p. 510519, 2004.
[18] M. W. Spong, ÒModeling and control of elastic joint robots,Ó ASME
J. Dynam. Syst. Meas. Contr., vol. 109, no. 4, pp. 310Ð319, 1987.
[19] G. Gilardi and I. Sharf, ÒLiterature survey of contact dynamics
modeling,Ó J. Mech. Mach. Theory, vol. 37, no. 10, p. 12131239, 2002.
[20] K. Hunt and F. Crossley, ÒCoefÞcient of restitution initerpreted as
damping in vibroimpact,Ó ASME J. Appl. Mech., vol. 42, p. 440445,
1975.
[21] S. Stramigioli, ÒModeling the kinematics and dynamics of compliant
contact,Ó in Proc. 2nd Workshop Lagrangian, Hamiltonian Methods
Nonlinear Control, Sevilla, Spain, 2003, p. 1726.
[22] L. V . F. Ficuciello, R. Carloni and S. Stramigioli, ÒPort-hamiltonian
modeling for soft-Þnger manipulation,Ó in Proc. of the 2010 IEEE
international conference on Intelligent Robots and Systems, Taipei,
2010, pp. 4281Ð4286.
[23] M. Zefran and V . Kumar, ÒAfÞne connections for the cartesian stiffness
matrix,Ó in Proc. of the 1997 IEEE international conference on robotics
and automation, New Mexico, 1997, pp. 1376Ð1381.
1504
